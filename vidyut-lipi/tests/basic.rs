use vidyut_lipi::Scheme::*;
use vidyut_lipi::{Lipika, Scheme};

/// A quick alias for transliterating.
fn t(input: &str, from: Scheme, to: Scheme) -> String {
    let mut lipika = Lipika::new();
    lipika.transliterate(input, from, to)
}

/// Asserts that `input` produces `expected` when transliterated from `from` to `to`.
fn assert_transliterate(input: &str, from: Scheme, to: Scheme, expected: &str) {
    let actual = t(input, from, to);
    if expected != actual {
        let e_codes: Vec<_> = expected.chars().map(|c| c as u32).collect();
        let a_codes: Vec<_> = actual.chars().map(|c| c as u32).collect();
        let e_slp1 = t(expected, to, Scheme::Slp1);
        let a_slp1 = t(&actual, to, Scheme::Slp1);
        println!(
            "input: {input} ({from:?} --> {to:?})

expected: {}
          {e_codes:x?}
          (slp1: {e_slp1})

actual:   {}
          {a_codes:x?}
          (slp1: {a_slp1})
",
            expected, actual
        );
    }
    assert_eq!(*expected, actual);
}

/// Transliterates all input strings against each other.
///
/// Use this function if round-trip transliteration is lossless.
fn assert_two_way_pairwise(examples: &[(Scheme, &str)]) {
    for (from, input) in examples {
        for (to, expected) in examples {
            // Also test the case where "from == to." In this case, we should return the original
            // input string unchanged.
            assert_transliterate(input, *from, *to, expected);
        }
    }
}

/// Transliterates `reference` into each item in `examples`.
///
/// Use this function if transliteration is lossy from `reference` to the given `examples`. All
/// `examples` are also round-tripped with each other through `assert_two_way_pairwise`.
fn assert_one_way_pairwise(reference: (Scheme, &str), examples: &[(Scheme, &str)]) {
    let from = reference.0;
    let input = reference.1;

    for (to, expected) in examples {
        // Also test the case where "from == to." In this case, we should return the original
        // input string unchanged.
        assert_transliterate(input, from, *to, expected);
    }

    assert_two_way_pairwise(examples);
}

/// Asserts that:
/// 1. each test case has multiple unicode variants
/// 2. for each test case, all unicode variants have the same transliteration output.
fn assert_supports_unicode_variants(scheme: Scheme, test_cases: &[&str]) {
    use unicode_normalization::UnicodeNormalization;

    let mut lipika = Lipika::new();
    for case in test_cases {
        let input_nfc: String = case.nfc().collect();
        let input_nfd: String = case.nfd().collect();
        assert_ne!(
            input_nfc, input_nfd,
            "Unicode test case '{case}' should have separate NFC and NFD forms."
        );

        // The choice of output_scheme does not really matter here. What we're testing is that the
        // transliterator treats our two inputs in the same way.
        let output_scheme = Scheme::Devanagari;
        let output_nfc = lipika.transliterate(&input_nfc, scheme, output_scheme);
        let output_nfd = lipika.transliterate(&input_nfd, scheme, output_scheme);
        assert_eq!(
            output_nfc, output_nfd,
            "Unicode test case '{case}' has two transliterations. (NFC = '{output_nfc}', NFD = '{output_nfd}').",
        );
    }
}

// Sanskrit (Basic)
// ----------------

#[test]
fn sanskrit_independent_vowels() {
    let slp1_text = "a A i I u U f F x X e E o O";
    assert_two_way_pairwise(&[
        (BarahaSouth, "a A i I u U Ru RU ~lu ~lU E ai O au"),
        (HarvardKyoto, "a A i I u U R RR lR lRR e ai o au"),
        (Iast, "a Ä i Ä« u Å« á¹› á¹ á¸· á¸¹ e ai o au"),
        (Iso15919, "a Ä i Ä« u Å« rÌ¥ rÌ¥Ì„ lÌ¥ lÌ¥Ì„ Ä“ ai Å au"),
        (Itrans, "a A i I u U RRi RRI LLi LLI e ai o au"),
        (Slp1, slp1_text),
        (Velthuis, "a aa i ii u uu .r .R .l .L e ai o au"),
        (Wx, "a A i I u U q Q L LV e E o O"),
        // Indic
        (Assamese, "à¦… à¦† à¦‡ à¦ˆ à¦‰ à¦Š à¦‹ à§  à¦Œ à§¡ à¦ à¦ à¦“ à¦”"),
        (Balinese, "á¬… á¬† á¬‡ á¬ˆ á¬‰ á¬Š á¬‹ á¬Œ á¬ á¬ á¬ á¬ á¬‘ á¬’"),
        (Bengali, "à¦… à¦† à¦‡ à¦ˆ à¦‰ à¦Š à¦‹ à§  à¦Œ à§¡ à¦ à¦ à¦“ à¦”"),
        (Brahmi, "ğ‘€… ğ‘€† ğ‘€‡ ğ‘€ˆ ğ‘€‰ ğ‘€Š ğ‘€‹ ğ‘€Œ ğ‘€ ğ‘€ ğ‘€ ğ‘€ ğ‘€‘ ğ‘€’"),
        (Burmese, "á€¡ á€¡á€¬ á€£ á€¤ á€¥ á€¦ á’ á“ á” á• á€§ á€¡á€² á€© á€ª"),
        (Cham, "ê¨€ ê¨€ê¨© ê¨ ê¨ê¨© ê¨‚ ê¨‚ê¨© ê¨£ê¨® ê¨£ê¨®ê¨© ê¨¤ê¨® ê¨¤ê¨®ê¨© ê¨ƒ ê¨„ ê¨… ê¨€ê¨¯ê¨±"),
        (Devanagari, "à¤… à¤† à¤‡ à¤ˆ à¤‰ à¤Š à¤‹ à¥  à¤Œ à¥¡ à¤ à¤ à¤“ à¤”"),
        (Dogra, "ğ‘ € ğ‘  ğ‘ ‚ ğ‘ ƒ ğ‘ „ ğ‘ … ğ‘ ¤ğ‘ ­ ğ‘ ¤ğ‘ ® ğ‘ ¥ğ‘ ­ ğ‘ ¥ğ‘ ® ğ‘ † ğ‘ ‡ ğ‘ ˆ ğ‘ ‰"),
        (Grantha, "ğ‘Œ… ğ‘Œ† ğ‘Œ‡ ğ‘Œˆ ğ‘Œ‰ ğ‘ŒŠ ğ‘Œ‹ ğ‘  ğ‘ŒŒ ğ‘¡ ğ‘Œ ğ‘Œ ğ‘Œ“ ğ‘Œ”"),
        (Gujarati, "àª… àª† àª‡ àªˆ àª‰ àªŠ àª‹ à«  àªŒ à«¡ àª àª àª“ àª”"),
        (Javanese, "ê¦„ ê¦„ê¦´ ê¦† ê¦‡ ê¦ˆ ê¦ˆê¦´ ê¦‰ ê¦‰ê¦´ ê¦Š ê¦‹ ê¦Œ ê¦ ê¦ ê¦ê¦´"),
        (Kannada, "à²… à²† à²‡ à²ˆ à²‰ à²Š à²‹ à³  à²Œ à³¡ à² à² à²“ à²”"),
        (Khmer, "á¢ á¢á¶ á¥ á¦ á§ á© á« á¬ á­ á® á¯ á° á± á³"),
        (Malayalam, "à´… à´† à´‡ à´ˆ à´‰ à´Š à´‹ àµ  à´Œ àµ¡ à´ à´ à´“ à´”"),
        (Modi, "ğ‘˜€ ğ‘˜ ğ‘˜‚ ğ‘˜ƒ ğ‘˜„ ğ‘˜… ğ‘˜† ğ‘˜‡ ğ‘˜ˆ ğ‘˜‰ ğ‘˜Š ğ‘˜‹ ğ‘˜Œ ğ‘˜"),
        (Mon, "á€¡ á€¡á€¬ á€£ á€£á€³ á€¥ á€¥á€° á’ á“ á” á• á€¨ á€¡á€² á€© á€ª"),
        (Newa, "ğ‘€ ğ‘ ğ‘‚ ğ‘ƒ ğ‘„ ğ‘… ğ‘† ğ‘‡ ğ‘ˆ ğ‘‰ ğ‘Š ğ‘‹ ğ‘Œ ğ‘"),
        (Odia, "à¬… à¬† à¬‡ à¬ˆ à¬‰ à¬Š à¬‹ à­  à¬Œ à­¡ à¬ à¬ à¬“ à¬”"),
        (Saurashtra, "ê¢‚ ê¢ƒ ê¢„ ê¢… ê¢† ê¢‡ ê¢ˆ ê¢‰ ê¢Š ê¢‹ ê¢ ê¢ ê¢ ê¢‘"),
        (Sharada, "ğ‘†ƒ ğ‘†„ ğ‘†… ğ‘†† ğ‘†‡ ğ‘†ˆ ğ‘†‰ ğ‘†Š ğ‘†‹ ğ‘†Œ ğ‘† ğ‘† ğ‘† ğ‘†"),
        (Sinhala, "à¶… à¶† à¶‰ à¶Š à¶‹ à¶Œ à¶ à¶ à¶ à¶ à¶’ à¶“ à¶• à¶–"),
        (Soyombo, "ğ‘© ğ‘©ğ‘©› ğ‘©ğ‘©‘ ğ‘©ğ‘©‘ğ‘©› ğ‘©ğ‘©’ ğ‘©ğ‘©’ğ‘©› ğ‘©ğ‘©™ ğ‘©ğ‘©™ğ‘©› ğ‘©ğ‘©š ğ‘©ğ‘©šğ‘©› ğ‘©ğ‘©” ğ‘©ğ‘©— ğ‘©ğ‘©– ğ‘©ğ‘©˜"),
        (TaiTham, "á©‹ á©‹á©£ á© á© á© á© á©‚ á©‚á©£ á©„ á©„á©£ á©‘ á©‹á©± á©’ á©á©«á©£"),
        (Tamil, "à®… à®† à®‡ à®ˆ à®‰ à®Š à®°à¯Ê¼ à®°à¯‚Ê¼ à®²à¯Ê¼ à®²à¯‚Ê¼ à® à® à®“ à®”"),
        (Telugu, "à°… à°† à°‡ à°ˆ à°‰ à°Š à°‹ à±  à°Œ à±¡ à° à° à°“ à°”"),
        (Thai, "à¸­ à¸­à¸² à¸­à¸´ à¸­à¸µ à¸­à¸¸ à¸­à¸¹ à¸¤ à¸¤à¹… à¸¦ à¸¦à¹… à¹€à¸­ à¹„à¸­ à¹‚à¸­ à¹€à¸­à¸²"),
        (Tirhuta, "ğ‘’ ğ‘’‚ ğ‘’ƒ ğ‘’„ ğ‘’… ğ‘’† ğ‘’‡ ğ‘’ˆ ğ‘’‰ ğ‘’Š ğ‘’‹ ğ‘’Œ ğ‘’ ğ‘’"),
        (Tibetan, "à½¨à¼‹à½¨à½±à¼‹à½¨à½²à¼‹à½¨à½±à½²à¼‹à½¨à½´à¼‹à½¨à½±à½´à¼‹à½¢à¾€à¼‹à½¢à½±à¾€à¼‹à½£à¾€à¼‹à½£à½±à¾€à¼‹à½¨à½ºà¼‹à½¨à½»à¼‹à½¨à½¼à¼‹à½¨à½½"),
        (ZanabazarSquare, "ğ‘¨€ ğ‘¨€ğ‘¨Š ğ‘¨€ğ‘¨ ğ‘¨€ğ‘¨ğ‘¨Š ğ‘¨€ğ‘¨‚ ğ‘¨€ğ‘¨‚ğ‘¨Š ğ‘¨«ğ‘¨‰ ğ‘¨«ğ‘¨‰ğ‘¨Š ğ‘¨¬ğ‘¨‰ ğ‘¨¬ğ‘¨‰ğ‘¨Š ğ‘¨€ğ‘¨„ ğ‘¨€ğ‘¨„ğ‘¨Š ğ‘¨€ğ‘¨† ğ‘¨€ğ‘¨†ğ‘¨Š"),
    ]);

    // Scripts with no vocalic LL
    assert_one_way_pairwise(
        (Slp1, slp1_text),
        &[(Bhaiksuki, "ğ‘°€ğ‘±ƒğ‘°ğ‘±ƒğ‘°‚ğ‘±ƒğ‘°ƒğ‘±ƒğ‘°„ğ‘±ƒğ‘°…ğ‘±ƒğ‘°†ğ‘±ƒğ‘°‡ğ‘±ƒğ‘°ˆğ‘±ƒğ‘°ˆğ‘±ƒğ‘°Šğ‘±ƒğ‘°‹ğ‘±ƒğ‘°Œğ‘±ƒğ‘°")],
    );

    // Scripts with no vocalic L/LL
    assert_two_way_pairwise(&[
        (Slp1, slp1_text),
        (Kharoshthi, "ğ¨€ ğ¨€ğ¨Œ ğ¨€ğ¨ ğ¨€ğ¨ğ¨Œ ğ¨€ğ¨‚ ğ¨€ğ¨‚ğ¨Œ ğ¨€ğ¨ƒ ğ¨€ğ¨ƒğ¨Œ ğ¨«ğ¨‚ ğ¨«ğ¨‚ğ¨Œ ğ¨€ğ¨… ğ¨€ğ¨…ğ¨Œ ğ¨€ğ¨† ğ¨€ğ¨†ğ¨Œ"),
        (Nandinagari, "ğ‘¦  ğ‘¦¡ ğ‘¦¢ ğ‘¦£ ğ‘¦¤ ğ‘¦¥ ğ‘¦¦ ğ‘¦§ ğ‘§‰ğ‘§” ğ‘§‰ğ‘§• ğ‘¦ª ğ‘¦« ğ‘¦¬ ğ‘¦­"),
        (Siddham, "ğ‘–€ ğ‘– ğ‘–‚ ğ‘–ƒ ğ‘–„ ğ‘–… ğ‘–† ğ‘–‡ ğ‘–ˆ ğ‘–‰ ğ‘–Š ğ‘–‹ ğ‘–Œ ğ‘–"),
    ]);

    // Scripts with no vocalic R/RR or L/LL
    assert_two_way_pairwise(&[
        (Slp1, slp1_text),
        (GunjalaGondi, "ğ‘µ  ğ‘µ¡ ğ‘µ¢ ğ‘µ£ ğ‘µ¤ ğ‘µ¥ ğ‘¶ˆğ‘¶ ğ‘¶ˆğ‘¶ ğ‘µµğ‘¶ ğ‘µµğ‘¶ ğ‘µ§ ğ‘µ¨ ğ‘µª ğ‘µ«"),
        (Gurmukhi, "à¨… à¨† à¨‡ à¨ˆ à¨‰ à¨Š à¨°à© à¨°à©‚ à¨²à© à¨²à©‚ à¨ à¨ à¨“ à¨”"),
        (Kaithi, "ğ‘‚ƒ ğ‘‚„ ğ‘‚… ğ‘‚† ğ‘‚‡ ğ‘‚ˆ ğ‘‚©ğ‘‚± ğ‘‚©ğ‘‚² ğ‘‚ªğ‘‚± ğ‘‚ªğ‘‚² ğ‘‚‰ ğ‘‚Š ğ‘‚‹ ğ‘‚Œ"),
        (Khudawadi, "ğ‘Š° ğ‘Š± ğ‘Š² ğ‘Š³ ğ‘Š´ ğ‘Šµ ğ‘‹™ğ‘‹¡ ğ‘‹™ğ‘‹¢ ğ‘‹šğ‘‹¡ ğ‘‹šğ‘‹¢ ğ‘Š¶ ğ‘Š· ğ‘Š¸ ğ‘Š¹"),
        (Limbu, "á¤€ á¤€á¤  á¤€á¤¡ á¤€á¤¡á¤º á¤€á¤¢ á¤€á¤¢á¤º á¤–á¤¢ á¤–á¤¢á¤º á¤—á¤¢ á¤—á¤¢á¤º á¤€á¤£ á¤€á¤¤ á¤€á¤¥ á¤€á¤¦"),
        (MasaramGondi, "ğ‘´€ ğ‘´ ğ‘´‚ ğ‘´ƒ ğ‘´„ ğ‘´… ğ‘´¦ğ‘´¶ ğ‘´¦ğ‘´µ ğ‘´§ğ‘´´ ğ‘´§ğ‘´µ ğ‘´† ğ‘´ˆ ğ‘´‰ ğ‘´‹"),
        (OlChiki, "á±š á±Ÿ á±¤ á±¤á±» á±© á±©á±» á±¨á±© á±¨á±©á±» á±á±© á±á±©á±» á±® á±šá±¤ á±³ á±šá±©"),
        (Takri, "ğ‘š€ ğ‘š ğ‘š‚ ğ‘šƒ ğ‘š„ ğ‘š… ğ‘š¤ğ‘š® ğ‘š¤ğ‘š¯ ğ‘š¥ğ‘š® ğ‘š¥ğ‘š¯ ğ‘š† ğ‘š‡ ğ‘šˆ ğ‘š‰"),
    ]);

    // No vocalir R/RR/L/LL or long U
    assert_transliterate(
        slp1_text,
        Slp1,
        MeeteiMayek,
        "ê¯‘ ê¯‘ê¯¥ ê¯ ê¯ ê¯ ê¯ ê¯”ê¯¨ ê¯”ê¯¨ ê¯‚ê¯¨ ê¯‚ê¯¨ ê¯‘ê¯¦ ê¯‘ê¯© ê¯‘ê¯£ ê¯‘ê¯§",
    );
}

#[test]
fn sanskrit_dependent_vowels() {
    let slp1_text = "ka kA ki kI ku kU kf kF kx kX ke kE ko kO";

    assert_two_way_pairwise(&[
        (
            BarahaSouth,
            "ka kA ki kI ku kU kRu kRU k~lu k~lU kE kai kO kau",
        ),
        (
            HarvardKyoto,
            "ka kA ki kI ku kU kR kRR klR klRR ke kai ko kau",
        ),
        (Iast, "ka kÄ ki kÄ« ku kÅ« ká¹› ká¹ ká¸· ká¸¹ ke kai ko kau"),
        (Iso15919, "ka kÄ ki kÄ« ku kÅ« krÌ¥ krÌ¥Ì„ klÌ¥ klÌ¥Ì„ kÄ“ kai kÅ kau"),
        (
            Itrans,
            "ka kA ki kI ku kU kRRi kRRI kLLi kLLI ke kai ko kau",
        ),
        (Slp1, slp1_text),
        (
            Velthuis,
            "ka kaa ki kii ku kuu k.r k.R k.l k.L ke kai ko kau",
        ),
        (Wx, "ka kA ki kI ku kU kq kQ kL kLV ke kE ko kO"),
        // Indic
        (Assamese, "à¦• à¦•à¦¾ à¦•à¦¿ à¦•à§€ à¦•à§ à¦•à§‚ à¦•à§ƒ à¦•à§„ à¦•à§¢ à¦•à§£ à¦•à§‡ à¦•à§ˆ à¦•à§‹ à¦•à§Œ"),
        (Balinese, "á¬“ á¬“á¬µ á¬“á¬¶ á¬“á¬· á¬“á¬¸ á¬“á¬¹ á¬“á¬º á¬“á¬» á¬“á¬¼ á¬“á¬½ á¬“á¬¾ á¬“á¬¿ á¬“á­€ á¬“á­"),
        (Bengali, "à¦• à¦•à¦¾ à¦•à¦¿ à¦•à§€ à¦•à§ à¦•à§‚ à¦•à§ƒ à¦•à§„ à¦•à§¢ à¦•à§£ à¦•à§‡ à¦•à§ˆ à¦•à§‹ à¦•à§Œ"),
        (Brahmi, "ğ‘€“ ğ‘€“ğ‘€¸ ğ‘€“ğ‘€º ğ‘€“ğ‘€» ğ‘€“ğ‘€¼ ğ‘€“ğ‘€½ ğ‘€“ğ‘€¾ ğ‘€“ğ‘€¿ ğ‘€“ğ‘€ ğ‘€“ğ‘ ğ‘€“ğ‘‚ ğ‘€“ğ‘ƒ ğ‘€“ğ‘„ ğ‘€“ğ‘…"),
        (Burmese, "á€€ á€€á€¬ á€€á€­ á€€á€® á€€á€¯ á€€á€° á€€á– á€€á— á€€á˜ á€€á™ á€€á€± á€€á€² á€€á€±á€¬ á€€á€±á€¬á€º"),
        (Cham, "ê¨† ê¨†ê¨© ê¨†ê¨ª ê¨†ê¨« ê¨†ê¨­ ê¨†ê¨­ê¨© ê¨†ê¨´ê¨® ê¨†ê¨´ê¨®ê¨© ê¨†ê¨µê¨® ê¨†ê¨µê¨®ê¨© ê¨†ê¨¯ê¨® ê¨†ê¨° ê¨†ê¨¯ ê¨†ê¨¯ê¨±"),
        (Devanagari, "à¤• à¤•à¤¾ à¤•à¤¿ à¤•à¥€ à¤•à¥ à¤•à¥‚ à¤•à¥ƒ à¤•à¥„ à¤•à¥¢ à¤•à¥£ à¤•à¥‡ à¤•à¥ˆ à¤•à¥‹ à¤•à¥Œ"),
        (Dogra, "ğ‘ Š ğ‘ Šğ‘ ¬ ğ‘ Šğ‘ ­ ğ‘ Šğ‘ ® ğ‘ Šğ‘ ¯ ğ‘ Šğ‘ ° ğ‘ Šğ‘ ± ğ‘ Šğ‘ ² ğ‘ Šğ‘ ¹ğ‘ ¥ğ‘ ­ ğ‘ Šğ‘ ¹ğ‘ ¥ğ‘ ® ğ‘ Šğ‘ ³ ğ‘ Šğ‘ ´ ğ‘ Šğ‘ µ ğ‘ Šğ‘ ¶"),
        (Grantha, "ğ‘Œ• ğ‘Œ•ğ‘Œ¾ ğ‘Œ•ğ‘Œ¿ ğ‘Œ•ğ‘€ ğ‘Œ•ğ‘ ğ‘Œ•ğ‘‚ ğ‘Œ•ğ‘ƒ ğ‘Œ•ğ‘„ ğ‘Œ•ğ‘¢ ğ‘Œ•ğ‘£ ğ‘Œ•ğ‘‡ ğ‘Œ•ğ‘ˆ ğ‘Œ•ğ‘‹ ğ‘Œ•ğ‘Œ"),
        (Gujarati, "àª• àª•àª¾ àª•àª¿ àª•à«€ àª•à« àª•à«‚ àª•à«ƒ àª•à«„ àª•à«¢ àª•à«£ àª•à«‡ àª•à«ˆ àª•à«‹ àª•à«Œ"),
        (Javanese, "ê¦ ê¦ê¦´ ê¦ê¦¶ ê¦ê¦· ê¦ê¦¸ ê¦ê¦¹ ê¦ê¦½ ê¦ê§€ê¦‰ê¦´ ê¦ê§€ê¦Š ê¦ê§€ê¦‹ ê¦ê¦º ê¦ê¦» ê¦ê¦ºê¦´ ê¦ê¦»ê¦´"),
        (Kannada, "à²• à²•à²¾ à²•à²¿ à²•à³€ à²•à³ à²•à³‚ à²•à³ƒ à²•à³„ à²•à³¢ à²•à³£ à²•à³‡ à²•à³ˆ à²•à³‹ à²•à³Œ"),
        (Khmer, "á€ á€á¶ á€á· á€á¸ á€á» á€á¼ á€áŸ’á« á€áŸ’á¬ á€áŸ’á­ á€áŸ’á® á€áŸ á€áŸƒ á€áŸ„ á€áŸ…"),
        (Malayalam, "à´• à´•à´¾ à´•à´¿ à´•àµ€ à´•àµ à´•àµ‚ à´•àµƒ à´•àµ„ à´•àµ¢ à´•àµ£ à´•àµ‡ à´•àµˆ à´•àµ‹ à´•àµ—"),
        (Modi, "ğ‘˜ ğ‘˜ğ‘˜° ğ‘˜ğ‘˜± ğ‘˜ğ‘˜² ğ‘˜ğ‘˜³ ğ‘˜ğ‘˜´ ğ‘˜ğ‘˜µ ğ‘˜ğ‘˜¶ ğ‘˜ğ‘˜· ğ‘˜ğ‘˜¸ ğ‘˜ğ‘˜¹ ğ‘˜ğ‘˜º ğ‘˜ğ‘˜» ğ‘˜ğ‘˜¼"),
        (Mon, "á€€ á€€á€¬ á€€á€­ á€€á€³ á€€á€¯ á€€á€° á€€á– á€€á— á€€á˜ á€€á™ á€€á€± á€€á€² á€€á€±á€¬ á€€á€±á€¬á€º"),
        (Newa, "ğ‘ ğ‘ğ‘µ ğ‘ğ‘¶ ğ‘ğ‘· ğ‘ğ‘¸ ğ‘ğ‘¹ ğ‘ğ‘º ğ‘ğ‘» ğ‘ğ‘¼ ğ‘ğ‘½ ğ‘ğ‘¾ ğ‘ğ‘¿ ğ‘ğ‘‘€ ğ‘ğ‘‘"),
        (Odia, "à¬• à¬•à¬¾ à¬•à¬¿ à¬•à­€ à¬•à­ à¬•à­‚ à¬•à­ƒ à¬•à­„ à¬•à­¢ à¬•à­£ à¬•à­‡ à¬•à­ˆ à¬•à­‹ à¬•à­Œ"),
        (Saurashtra, "ê¢’ ê¢’ê¢µ ê¢’ê¢¶ ê¢’ê¢· ê¢’ê¢¸ ê¢’ê¢¹ ê¢’ê¢º ê¢’ê¢» ê¢’ê¢¼ ê¢’ê¢½ ê¢’ê¢¿ ê¢’ê£€ ê¢’ê£‚ ê¢’ê£ƒ"),
        (Sharada, "ğ‘†‘ ğ‘†‘ğ‘†³ ğ‘†‘ğ‘†´ ğ‘†‘ğ‘†µ ğ‘†‘ğ‘†¶ ğ‘†‘ğ‘†· ğ‘†‘ğ‘†¸ ğ‘†‘ğ‘†¹ ğ‘†‘ğ‘†º ğ‘†‘ğ‘†» ğ‘†‘ğ‘†¼ ğ‘†‘ğ‘†½ ğ‘†‘ğ‘†¾ ğ‘†‘ğ‘†¿"),
        (Sinhala, "à¶š à¶šà· à¶šà·’ à¶šà·“ à¶šà·” à¶šà·– à¶šà·˜ à¶šà·² à¶šà·Ÿ à¶šà·³ à¶šà·š à¶šà·› à¶šà· à¶šà·"),
        (Soyombo, "ğ‘©œ ğ‘©œğ‘©› ğ‘©œğ‘©‘ ğ‘©œğ‘©‘ğ‘©› ğ‘©œğ‘©’ ğ‘©œğ‘©’ğ‘©› ğ‘©œğ‘©™ ğ‘©œğ‘©™ğ‘©› ğ‘©œğ‘©š ğ‘©œğ‘©šğ‘©› ğ‘©œğ‘©” ğ‘©œğ‘©— ğ‘©œğ‘©– ğ‘©œğ‘©˜"),
        (TaiTham, "á¨  á¨ á©£ á¨ á©¥ á¨ á©¦ á¨ á©© á¨ á©ª á¨ á©ºá©‚ á¨ á©ºá©‚á©£ á¨ á©ºá©„ á¨ á©ºá©„á©£ á¨ á©® á¨ á©± á¨ á©®á©£ á¨ á©®á©«á©£"),
        (Tamil, "à®• à®•à®¾ à®•à®¿ à®•à¯€ à®•à¯ à®•à¯‚ à®•à¯à®°à¯Ê¼ à®•à¯à®°à¯‚Ê¼ à®•à¯à®²à¯Ê¼ à®•à¯à®²à¯‚Ê¼ à®•à¯‡ à®•à¯ˆ à®•à¯‹ à®•à¯Œ"),
        (Telugu, "à°• à°•à°¾ à°•à°¿ à°•à±€ à°•à± à°•à±‚ à°•à±ƒ à°•à±„ à°•à±¢ à°•à±£ à°•à±‡ à°•à±ˆ à°•à±‹ à°•à±Œ"),
        (Thai, "à¸ à¸à¸² à¸à¸´ à¸à¸µ à¸à¸¸ à¸à¸¹ à¸à¸ºà¸¤ à¸à¸ºà¸¤à¹… à¸à¸ºà¸¦ à¸à¸ºà¸¦à¹… à¹€à¸ à¹„à¸ à¹‚à¸ à¹€à¸à¸²"),
        (Tibetan, "à½€à¼‹à½€à½±à¼‹à½€à½²à¼‹à½€à½±à½²à¼‹à½€à½´à¼‹à½€à½±à½´à¼‹à½€à¾²à¾€à¼‹à½€à¾²à½±à¾€à¼‹à½€à¾³à¾€à¼‹à½€à¾³à½±à¾€à¼‹à½€à½ºà¼‹à½€à½»à¼‹à½€à½¼à¼‹à½€à½½"),
        (Tirhuta, "ğ‘’ ğ‘’ğ‘’° ğ‘’ğ‘’± ğ‘’ğ‘’² ğ‘’ğ‘’³ ğ‘’ğ‘’´ ğ‘’ğ‘’µ ğ‘’ğ‘’¶ ğ‘’ğ‘’· ğ‘’ğ‘’¸ ğ‘’ğ‘’¹ ğ‘’ğ‘’» ğ‘’ğ‘’¼ ğ‘’ğ‘’¾"),
    ]);

    // Scripts without vocalic L
    assert_one_way_pairwise(
        (Slp1, slp1_text),
        &[(Bhaiksuki, "ğ‘°ğ‘±ƒğ‘°ğ‘°¯ğ‘±ƒğ‘°ğ‘°°ğ‘±ƒğ‘°ğ‘°±ğ‘±ƒğ‘°ğ‘°²ğ‘±ƒğ‘°ğ‘°³ğ‘±ƒğ‘°ğ‘°´ğ‘±ƒğ‘°ğ‘°µğ‘±ƒğ‘°ğ‘°¶ğ‘±ƒğ‘°ğ‘°¶ğ‘±ƒğ‘°ğ‘°¸ğ‘±ƒğ‘°ğ‘°¹ğ‘±ƒğ‘°ğ‘°ºğ‘±ƒğ‘°ğ‘°»")],
    );

    // Scripts without vocalic L/LL
    assert_two_way_pairwise(&[
        (Slp1, slp1_text),
        (Kharoshthi, "ğ¨ ğ¨ğ¨Œ ğ¨ğ¨ ğ¨ğ¨ğ¨Œ ğ¨ğ¨‚ ğ¨ğ¨‚ğ¨Œ ğ¨ğ¨ƒ ğ¨ğ¨ƒğ¨Œ ğ¨ğ¨¿ğ¨«ğ¨‚ ğ¨ğ¨¿ğ¨«ğ¨‚ğ¨Œ ğ¨ğ¨… ğ¨ğ¨…ğ¨Œ ğ¨ğ¨† ğ¨ğ¨†ğ¨Œ"),
        (Nandinagari, "ğ‘¦® ğ‘¦®ğ‘§‘ ğ‘¦®ğ‘§’ ğ‘¦®ğ‘§“ ğ‘¦®ğ‘§” ğ‘¦®ğ‘§• ğ‘¦®ğ‘§– ğ‘¦®ğ‘§— ğ‘¦®ğ‘§ ğ‘§‰ğ‘§” ğ‘¦®ğ‘§ ğ‘§‰ğ‘§• ğ‘¦®ğ‘§š ğ‘¦®ğ‘§› ğ‘¦®ğ‘§œ ğ‘¦®ğ‘§"),
        (Siddham, "ğ‘– ğ‘–ğ‘–¯ ğ‘–ğ‘–° ğ‘–ğ‘–± ğ‘–ğ‘–² ğ‘–ğ‘–³ ğ‘–ğ‘–´ ğ‘–ğ‘–µ ğ‘–ğ‘–¿ğ‘–©ğ‘–° ğ‘–ğ‘–¿ğ‘–©ğ‘–± ğ‘–ğ‘–¸ ğ‘–ğ‘–¹ ğ‘–ğ‘–º ğ‘–ğ‘–»"),
    ]);

    // Scripts without vocalic R/RR or L/LL
    assert_two_way_pairwise(&[
        (Slp1, slp1_text),
        (Gurmukhi, "à¨• à¨•à¨¾ à¨•à¨¿ à¨•à©€ à¨•à© à¨•à©‚ à¨•à©à¨°à© à¨•à©à¨°à©‚ à¨•à©à¨²à© à¨•à©à¨²à©‚ à¨•à©‡ à¨•à©ˆ à¨•à©‹ à¨•à©Œ"),
        (GunjalaGondi, "ğ‘µ± ğ‘µ±ğ‘¶Š ğ‘µ±ğ‘¶‹ ğ‘µ±ğ‘¶Œ ğ‘µ±ğ‘¶ ğ‘µ±ğ‘¶ ğ‘µ±ğ‘¶—ğ‘¶ˆğ‘¶ ğ‘µ±ğ‘¶—ğ‘¶ˆğ‘¶ ğ‘µ±ğ‘¶—ğ‘µµğ‘¶ ğ‘µ±ğ‘¶—ğ‘µµğ‘¶ ğ‘µ±ğ‘¶ ğ‘µ±ğ‘¶‘ ğ‘µ±ğ‘¶“ ğ‘µ±ğ‘¶”"),
        (Kaithi, "ğ‘‚ ğ‘‚ğ‘‚° ğ‘‚ğ‘‚± ğ‘‚ğ‘‚² ğ‘‚ğ‘‚³ ğ‘‚ğ‘‚´ ğ‘‚ğ‘‚¹ğ‘‚©ğ‘‚± ğ‘‚ğ‘‚¹ğ‘‚©ğ‘‚² ğ‘‚ğ‘‚¹ğ‘‚ªğ‘‚± ğ‘‚ğ‘‚¹ğ‘‚ªğ‘‚² ğ‘‚ğ‘‚µ ğ‘‚ğ‘‚¶ ğ‘‚ğ‘‚· ğ‘‚ğ‘‚¸"),
        (Khudawadi, "ğ‘Šº ğ‘Šºğ‘‹  ğ‘Šºğ‘‹¡ ğ‘Šºğ‘‹¢ ğ‘Šºğ‘‹£ ğ‘Šºğ‘‹¤ ğ‘Šºğ‘‹ªğ‘‹™ğ‘‹¡ ğ‘Šºğ‘‹ªğ‘‹™ğ‘‹¢ ğ‘Šºğ‘‹ªğ‘‹šğ‘‹¡ ğ‘Šºğ‘‹ªğ‘‹šğ‘‹¢ ğ‘Šºğ‘‹¥ ğ‘Šºğ‘‹¦ ğ‘Šºğ‘‹§ ğ‘Šºğ‘‹¨"),
        (Limbu, "á¤ á¤á¤  á¤á¤¡ á¤á¤¡á¤º á¤á¤¢ á¤á¤¢á¤º á¤á¤ªá¤¢ á¤á¤ªá¤¢á¤º á¤á¤»á¤—á¤¢ á¤á¤»á¤—á¤¢á¤º á¤á¤£ á¤á¤¤ á¤á¤¥ á¤á¤¦"),
        (MasaramGondi, "ğ‘´Œ ğ‘´Œğ‘´± ğ‘´Œğ‘´² ğ‘´Œğ‘´³ ğ‘´Œğ‘´´ ğ‘´Œğ‘´µ ğ‘´Œğ‘´¶ ğ‘´Œğ‘µ‡ğ‘´µ ğ‘´Œğ‘µ…ğ‘´§ğ‘´´ ğ‘´Œğ‘µ…ğ‘´§ğ‘´µ ğ‘´Œğ‘´º ğ‘´Œğ‘´¼ ğ‘´Œğ‘´½ ğ‘´Œğ‘´¿"),
        (Takri, "ğ‘šŠ ğ‘šŠğ‘š­ ğ‘šŠğ‘š® ğ‘šŠğ‘š¯ ğ‘šŠğ‘š° ğ‘šŠğ‘š± ğ‘šŠğ‘š¶ğ‘š¤ğ‘š® ğ‘šŠğ‘š¶ğ‘š¤ğ‘š¯ ğ‘šŠğ‘š¶ğ‘š¥ğ‘š® ğ‘šŠğ‘š¶ğ‘š¥ğ‘š¯ ğ‘šŠğ‘š² ğ‘šŠğ‘š³ ğ‘šŠğ‘š´ ğ‘šŠğ‘šµ"),
        (ZanabazarSquare, "ğ‘¨‹ ğ‘¨‹ğ‘¨Š ğ‘¨‹ğ‘¨ ğ‘¨‹ğ‘¨ğ‘¨Š ğ‘¨‹ğ‘¨‚ ğ‘¨‹ğ‘¨‚ğ‘¨Š ğ‘¨‹ğ‘©‡ğ‘¨«ğ‘¨‰ ğ‘¨‹ğ‘©‡ğ‘¨«ğ‘¨‰ğ‘¨Š ğ‘¨‹ğ‘©‡ğ‘¨¬ğ‘¨‰ ğ‘¨‹ğ‘©‡ğ‘¨¬ğ‘¨‰ğ‘¨Š ğ‘¨‹ğ‘¨„ ğ‘¨‹ğ‘¨„ğ‘¨Š ğ‘¨‹ğ‘¨† ğ‘¨‹ğ‘¨†ğ‘¨Š"),
    ]);

    // Scripts without R/RR/L/LL or long O.
    assert_transliterate(
        slp1_text,
        Slp1,
        OlChiki,
        "á± á±š á± á±Ÿ á± á±¤ á± á±¤á±» á± á±© á± á±©á±» á± á±¨á±© á± á±¨á±©á±» á± á±á±© á± á±á±©á±» á± á±® á± á±šá±¤ á± á±³ á± á±šá±©",
    );

    // Scripts without R/RR/L/LL or long U.
    assert_transliterate(
        slp1_text,
        Slp1,
        MeeteiMayek,
        "ê¯€ ê¯€ê¯¥ ê¯€ê¯¤ ê¯€ê¯¤ ê¯€ê¯¨ ê¯€ê¯¨ ê¯›ê¯”ê¯¨ ê¯›ê¯”ê¯¨ ê¯›ê¯‚ê¯¨ ê¯›ê¯‚ê¯¨ ê¯€ê¯¦ ê¯€ê¯© ê¯€ê¯£ ê¯€ê¯§",
    );
}

#[test]
fn sanskrit_ayogavahas() {
    assert_two_way_pairwise(&[
        (BarahaSouth, "aM aH a~M"),
        (HarvardKyoto, "aM aH a~"),
        (Iast, "aá¹ƒ aá¸¥ amÌ"),
        (Iso15919, "aá¹ aá¸¥ amÌ"),
        (Itrans, "aM aH a.N"),
        (Slp1, "aM aH a~"),
        (Velthuis, "a.m a.h a~m"),
        (Wx, "aM aH az"),
        // Indic
        (Assamese, "à¦…à¦‚ à¦…à¦ƒ à¦…à¦"),
        (Balinese, "á¬…á¬‚ á¬…á¬„ á¬…á¬"),
        (Bengali, "à¦…à¦‚ à¦…à¦ƒ à¦…à¦"),
        (Bhaiksuki, "ğ‘°€ğ‘°½ğ‘±ƒğ‘°€ğ‘°¾ğ‘±ƒğ‘°€ğ‘°¼"),
        (Brahmi, "ğ‘€…ğ‘€ ğ‘€…ğ‘€‚ ğ‘€…ğ‘€€"),
        (Cham, "ê¨€ê©Œ ê¨€ê© ê¨€ê©ƒ"),
        (Devanagari, "à¤…à¤‚ à¤…à¤ƒ à¤…à¤"),
        (Grantha, "ğ‘Œ…ğ‘Œ‚ ğ‘Œ…ğ‘Œƒ ğ‘Œ…ğ‘Œ"),
        (Gujarati, "àª…àª‚ àª…àªƒ àª…àª"),
        (Javanese, "ê¦„ê¦ ê¦„ê¦ƒ ê¦„ê¦€"),
        (Kaithi, "ğ‘‚ƒğ‘‚ ğ‘‚ƒğ‘‚‚ ğ‘‚ƒğ‘‚€"),
        (Kannada, "à²…à²‚ à²…à²ƒ à²…à²"),
        (Malayalam, "à´…à´‚ à´…à´ƒ à´…à´"),
        (Newa, "ğ‘€ğ‘‘„ ğ‘€ğ‘‘… ğ‘€ğ‘‘ƒ"),
        (Odia, "à¬…à¬‚ à¬…à¬ƒ à¬…à¬"),
        (OlChiki, "á±šá± á±šá±· á±šá±¸"),
        (Saurashtra, "ê¢‚ê¢€ ê¢‚ê¢ ê¢‚ê£…"),
        (Sharada, "ğ‘†ƒğ‘† ğ‘†ƒğ‘†‚ ğ‘†ƒğ‘†€"),
        (Siddham, "ğ‘–€ğ‘–½ ğ‘–€ğ‘–¾ ğ‘–€ğ‘–¼"),
        (Tamil, "à®…à®®à¯Ê¼ à®…ê‰ à®…à®®à¯Ë®"),
        (Telugu, "à°…à°‚ à°…à°ƒ à°…à°"),
        (Tibetan, "à½¨à½¾à¼‹à½¨à½¿à¼‹à½¨à¾ƒ"),
        (Tirhuta, "ğ‘’ğ‘“€ ğ‘’ğ‘“ ğ‘’ğ‘’¿"),
        (ZanabazarSquare, "ğ‘¨€ğ‘¨¸ ğ‘¨€ğ‘¨¹ ğ‘¨€ğ‘¨µ"),
    ]);

    // Scripts without a chandrabindu
    assert_one_way_pairwise(
        (Slp1, "aM aH a~"),
        &[
            (Burmese, "á€¡á€¶ á€¡á€¸ á€¡á€¶"),
            (Dogra, "ğ‘ €ğ‘ · ğ‘ €ğ‘ ¸ ğ‘ €ğ‘ ·"),
            (GunjalaGondi, "ğ‘µ ğ‘¶• ğ‘µ ğ‘¶– ğ‘µ ğ‘¶•"),
            (Kharoshthi, "ğ¨€ğ¨ ğ¨€ğ¨ ğ¨€ğ¨"),
            (Khmer, "á¢áŸ† á¢áŸ‡ á¢áŸ†"),
            (Khudawadi, "ğ‘Š°ğ‘‹Ÿ ğ‘Š°ğ‘‹ğ‘‹ª ğ‘Š°ğ‘‹Ÿ"),
            (Limbu, "á¤€á¤± á¤€á¤œá¤» á¤€á¤±"),
            (MasaramGondi, "ğ‘´€ğ‘µ€ ğ‘´€ğ‘µ ğ‘´€ğ‘µ€"),
            (MeeteiMayek, "ê¯‘ê¯ª ê¯‘ê¯ê¯­ ê¯‘ê¯ª"),
            (Modi, "ğ‘˜€ğ‘˜½ ğ‘˜€ğ‘˜¾ ğ‘˜€ğ‘˜½"),
            (Mon, "á€¡á€¶ á€¡á€¸ á€¡á€¶"),
            (Nandinagari, "ğ‘¦ ğ‘§ ğ‘¦ ğ‘§Ÿ ğ‘¦ ğ‘§"),
            (Sinhala, "à¶…à¶‚ à¶…à¶ƒ à¶…à¶‚"),
            (Soyombo, "ğ‘©ğ‘ª– ğ‘©ğ‘ª— ğ‘©ğ‘ª–"),
            (TaiTham, "á©‹á©´ á©‹á©¡ á©‹á©´"),
            (Takri, "ğ‘š€ğ‘š« ğ‘š€ğ‘š¬ ğ‘š€ğ‘š«"),
            (Thai, "à¸­à¹ à¸­à¸«à¹Œ à¸­à¹"),
        ],
    );
}

#[test]
fn sanskrit_consonants_non_vedic() {
    let slp1 = "ka Ka ga Ga Na ca Ca ja Ja Ya wa Wa qa Qa Ra ta Ta da Da na pa Pa ba Ba ma ya ra la va Sa za sa ha";

    assert_two_way_pairwise(&[
        (BarahaSouth, "ka kha ga gha ~ga cha Cha ja jha ~ja Ta Tha Da Dha Na ta tha da dha na pa pha ba bha ma ya ra la va sha Sha sa ha"),
        (HarvardKyoto, "ka kha ga gha Ga ca cha ja jha Ja Ta Tha Da Dha Na ta tha da dha na pa pha ba bha ma ya ra la va za Sa sa ha"),
        (Iast, "ka kha ga gha á¹…a ca cha ja jha Ã±a á¹­a á¹­ha á¸a á¸ha á¹‡a ta tha da dha na pa pha ba bha ma ya ra la va Å›a á¹£a sa ha"),
        (Iso15919, "ka kha ga gha á¹…a ca cha ja jha Ã±a á¹­a á¹­ha á¸a á¸ha á¹‡a ta tha da dha na pa pha ba bha ma ya ra la va Å›a á¹£a sa ha"),
        (Itrans, "ka kha ga gha ~Na cha Cha ja jha ~na Ta Tha Da Dha Na ta tha da dha na pa pha ba bha ma ya ra la va sha Sha sa ha"),
        (Slp1, slp1),
        (Velthuis, "ka kha ga gha \"na ca cha ja jha ~na .ta .tha .da .dha .na ta tha da dha na pa pha ba bha ma ya ra la va \"sa .sa sa ha"),
        (Wx, "ka Ka ga Ga fa ca Ca ja Ja Fa ta Ta da Da Na wa Wa xa Xa na pa Pa ba Ba ma ya ra la va Sa Ra sa ha"),
        // Indic
        (Assamese, "à¦• à¦– à¦— à¦˜ à¦™ à¦š à¦› à¦œ à¦ à¦ à¦Ÿ à¦  à¦¡ à¦¢ à¦£ à¦¤ à¦¥ à¦¦ à¦§ à¦¨ à¦ª à¦« à¦¬ à¦­ à¦® à¦¯ à§° à¦² à§± à¦¶ à¦· à¦¸ à¦¹"),
        (Balinese, "á¬“ á¬” á¬• á¬– á¬— á¬˜ á¬™ á¬š á¬› á¬œ á¬ á¬ á¬Ÿ á¬  á¬¡ á¬¢ á¬£ á¬¤ á¬¥ á¬¦ á¬§ á¬¨ á¬© á¬ª á¬« á¬¬ á¬­ á¬® á¬¯ á¬° á¬± á¬² á¬³"),
        (Bhaiksuki, "ğ‘°ğ‘±ƒğ‘°ğ‘±ƒğ‘°ğ‘±ƒğ‘°‘ğ‘±ƒğ‘°’ğ‘±ƒğ‘°“ğ‘±ƒğ‘°”ğ‘±ƒğ‘°•ğ‘±ƒğ‘°–ğ‘±ƒğ‘°—ğ‘±ƒğ‘°˜ğ‘±ƒğ‘°™ğ‘±ƒğ‘°šğ‘±ƒğ‘°›ğ‘±ƒğ‘°œğ‘±ƒğ‘°ğ‘±ƒğ‘°ğ‘±ƒğ‘°Ÿğ‘±ƒğ‘° ğ‘±ƒğ‘°¡ğ‘±ƒğ‘°¢ğ‘±ƒğ‘°£ğ‘±ƒğ‘°¤ğ‘±ƒğ‘°¥ğ‘±ƒğ‘°¦ğ‘±ƒğ‘°§ğ‘±ƒğ‘°¨ğ‘±ƒğ‘°©ğ‘±ƒğ‘°ªğ‘±ƒğ‘°«ğ‘±ƒğ‘°¬ğ‘±ƒğ‘°­ğ‘±ƒğ‘°®"),
        (Brahmi, "ğ‘€“ ğ‘€” ğ‘€• ğ‘€– ğ‘€— ğ‘€˜ ğ‘€™ ğ‘€š ğ‘€› ğ‘€œ ğ‘€ ğ‘€ ğ‘€Ÿ ğ‘€  ğ‘€¡ ğ‘€¢ ğ‘€£ ğ‘€¤ ğ‘€¥ ğ‘€¦ ğ‘€§ ğ‘€¨ ğ‘€© ğ‘€ª ğ‘€« ğ‘€¬ ğ‘€­ ğ‘€® ğ‘€¯ ğ‘€° ğ‘€± ğ‘€² ğ‘€³"),
        (Burmese, "á€€ á€ á€‚ á€ƒ á€„ á€… á€† á€‡ á€ˆ á€‰ á€‹ á€Œ á€ á€ á€ á€ á€‘ á€’ á€“ á€” á€• á€– á€— á€˜ á€™ á€š á€› á€œ á€ á á‘ á€ á€Ÿ"),
        (Devanagari, "à¤• à¤– à¤— à¤˜ à¤™ à¤š à¤› à¤œ à¤ à¤ à¤Ÿ à¤  à¤¡ à¤¢ à¤£ à¤¤ à¤¥ à¤¦ à¤§ à¤¨ à¤ª à¤« à¤¬ à¤­ à¤® à¤¯ à¤° à¤² à¤µ à¤¶ à¤· à¤¸ à¤¹"),
        (Dogra, "ğ‘ Š ğ‘ ‹ ğ‘ Œ ğ‘  ğ‘  ğ‘  ğ‘  ğ‘ ‘ ğ‘ ’ ğ‘ “ ğ‘ ” ğ‘ • ğ‘ – ğ‘ — ğ‘ ˜ ğ‘ ™ ğ‘ š ğ‘ › ğ‘ œ ğ‘  ğ‘  ğ‘ Ÿ ğ‘   ğ‘ ¡ ğ‘ ¢ ğ‘ £ ğ‘ ¤ ğ‘ ¥ ğ‘ ¦ ğ‘ § ğ‘ ¨ ğ‘ © ğ‘ ª"),
        (Grantha, "ğ‘Œ• ğ‘Œ– ğ‘Œ— ğ‘Œ˜ ğ‘Œ™ ğ‘Œš ğ‘Œ› ğ‘Œœ ğ‘Œ ğ‘Œ ğ‘ŒŸ ğ‘Œ  ğ‘Œ¡ ğ‘Œ¢ ğ‘Œ£ ğ‘Œ¤ ğ‘Œ¥ ğ‘Œ¦ ğ‘Œ§ ğ‘Œ¨ ğ‘Œª ğ‘Œ« ğ‘Œ¬ ğ‘Œ­ ğ‘Œ® ğ‘Œ¯ ğ‘Œ° ğ‘Œ² ğ‘Œµ ğ‘Œ¶ ğ‘Œ· ğ‘Œ¸ ğ‘Œ¹"),
        (Gujarati, "àª• àª– àª— àª˜ àª™ àªš àª› àªœ àª àª àªŸ àª  àª¡ àª¢ àª£ àª¤ àª¥ àª¦ àª§ àª¨ àªª àª« àª¬ àª­ àª® àª¯ àª° àª² àªµ àª¶ àª· àª¸ àª¹"),
        (Javanese, "ê¦ ê¦‘ ê¦’ ê¦“ ê¦” ê¦• ê¦– ê¦— ê¦™ ê¦š ê¦› ê¦œ ê¦ ê¦ ê¦Ÿ ê¦  ê¦¡ ê¦¢ ê¦£ ê¦¤ ê¦¥ ê¦¦ ê¦§ ê¦¨ ê¦© ê¦ª ê¦« ê¦­ ê¦® ê¦¯ ê¦° ê¦± ê¦²"),
        (Kaithi, "ğ‘‚ ğ‘‚ ğ‘‚ ğ‘‚ ğ‘‚‘ ğ‘‚’ ğ‘‚“ ğ‘‚” ğ‘‚• ğ‘‚– ğ‘‚— ğ‘‚˜ ğ‘‚™ ğ‘‚› ğ‘‚ ğ‘‚ ğ‘‚Ÿ ğ‘‚  ğ‘‚¡ ğ‘‚¢ ğ‘‚£ ğ‘‚¤ ğ‘‚¥ ğ‘‚¦ ğ‘‚§ ğ‘‚¨ ğ‘‚© ğ‘‚ª ğ‘‚« ğ‘‚¬ ğ‘‚­ ğ‘‚® ğ‘‚¯"),
        (Kannada, "à²• à²– à²— à²˜ à²™ à²š à²› à²œ à² à² à²Ÿ à²  à²¡ à²¢ à²£ à²¤ à²¥ à²¦ à²§ à²¨ à²ª à²« à²¬ à²­ à²® à²¯ à²° à²² à²µ à²¶ à²· à²¸ à²¹"),
        (Khmer, "á€ á á‚ áƒ á„ á… á† á‡ áˆ á‰ áŠ á‹ áŒ á á á á á‘ á’ á“ á” á• á– á— á˜ á™ áš á› áœ á á áŸ á "),
        (Khudawadi, "ğ‘Šº ğ‘Š» ğ‘Š¼ ğ‘Š¾ ğ‘Š¿ ğ‘‹€ ğ‘‹ ğ‘‹‚ ğ‘‹„ ğ‘‹… ğ‘‹† ğ‘‹‡ ğ‘‹ˆ ğ‘‹‹ ğ‘‹Œ ğ‘‹ ğ‘‹ ğ‘‹ ğ‘‹ ğ‘‹‘ ğ‘‹’ ğ‘‹“ ğ‘‹” ğ‘‹– ğ‘‹— ğ‘‹˜ ğ‘‹™ ğ‘‹š ğ‘‹› ğ‘‹œ ğ‘‹œğ‘‹© ğ‘‹ ğ‘‹"),
        (Malayalam, "à´• à´– à´— à´˜ à´™ à´š à´› à´œ à´ à´ à´Ÿ à´  à´¡ à´¢ à´£ à´¤ à´¥ à´¦ à´§ à´¨ à´ª à´« à´¬ à´­ à´® à´¯ à´° à´² à´µ à´¶ à´· à´¸ à´¹"),
        (MasaramGondi, "ğ‘´Œ ğ‘´ ğ‘´ ğ‘´ ğ‘´ ğ‘´‘ ğ‘´’ ğ‘´“ ğ‘´” ğ‘´• ğ‘´– ğ‘´— ğ‘´˜ ğ‘´™ ğ‘´š ğ‘´› ğ‘´œ ğ‘´ ğ‘´ ğ‘´Ÿ ğ‘´  ğ‘´¡ ğ‘´¢ ğ‘´£ ğ‘´¤ ğ‘´¥ ğ‘´¦ ğ‘´§ ğ‘´¨ ğ‘´© ğ‘´ª ğ‘´« ğ‘´¬"),
        (Modi, "ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜‘ ğ‘˜’ ğ‘˜“ ğ‘˜” ğ‘˜• ğ‘˜– ğ‘˜— ğ‘˜˜ ğ‘˜™ ğ‘˜š ğ‘˜› ğ‘˜œ ğ‘˜ ğ‘˜ ğ‘˜Ÿ ğ‘˜  ğ‘˜¡ ğ‘˜¢ ğ‘˜£ ğ‘˜¤ ğ‘˜¥ ğ‘˜¦ ğ‘˜§ ğ‘˜¨ ğ‘˜© ğ‘˜ª ğ‘˜« ğ‘˜¬ ğ‘˜­ ğ‘˜®"),
        (Mon, "á€€ á€ á€‚ á€ƒ áš á€… á€† á€‡ á› á€Š á€‹ á€Œ á€ á€ á€ á€ á€‘ á€’ á€“ á€” á€• á€– á€— á€˜ á€™ á€š á€› á€œ á€ á á‘ á€ á€Ÿ"),
        (Nandinagari, "ğ‘¦® ğ‘¦¯ ğ‘¦° ğ‘¦± ğ‘¦² ğ‘¦³ ğ‘¦´ ğ‘¦µ ğ‘¦¶ ğ‘¦· ğ‘¦¸ ğ‘¦¹ ğ‘¦º ğ‘¦» ğ‘¦¼ ğ‘¦½ ğ‘¦¾ ğ‘¦¿ ğ‘§€ ğ‘§ ğ‘§‚ ğ‘§ƒ ğ‘§„ ğ‘§… ğ‘§† ğ‘§‡ ğ‘§ˆ ğ‘§‰ ğ‘§Š ğ‘§‹ ğ‘§Œ ğ‘§ ğ‘§"),
        (Newa, "ğ‘ ğ‘ ğ‘ ğ‘‘ ğ‘’ ğ‘” ğ‘• ğ‘– ğ‘— ğ‘˜ ğ‘š ğ‘› ğ‘œ ğ‘ ğ‘ ğ‘Ÿ ğ‘  ğ‘¡ ğ‘¢ ğ‘£ ğ‘¥ ğ‘¦ ğ‘§ ğ‘¨ ğ‘© ğ‘« ğ‘¬ ğ‘® ğ‘° ğ‘± ğ‘² ğ‘³ ğ‘´"),
        (Odia, "à¬• à¬– à¬— à¬˜ à¬™ à¬š à¬› à¬œ à¬ à¬ à¬Ÿ à¬  à¬¡ à¬¢ à¬£ à¬¤ à¬¥ à¬¦ à¬§ à¬¨ à¬ª à¬« à¬¬ à¬­ à¬® à¬¯ à¬° à¬² à¬µ à¬¶ à¬· à¬¸ à¬¹"),
        (Saurashtra, "ê¢’ ê¢“ ê¢” ê¢• ê¢– ê¢— ê¢˜ ê¢™ ê¢š ê¢› ê¢œ ê¢ ê¢ ê¢Ÿ ê¢  ê¢¡ ê¢¢ ê¢£ ê¢¤ ê¢¥ ê¢¦ ê¢§ ê¢¨ ê¢© ê¢ª ê¢« ê¢¬ ê¢­ ê¢® ê¢¯ ê¢° ê¢± ê¢²"),
        (Sharada, "ğ‘†‘ ğ‘†’ ğ‘†“ ğ‘†” ğ‘†• ğ‘†– ğ‘†— ğ‘†˜ ğ‘†™ ğ‘†š ğ‘†› ğ‘†œ ğ‘† ğ‘† ğ‘†Ÿ ğ‘†  ğ‘†¡ ğ‘†¢ ğ‘†£ ğ‘†¤ ğ‘†¥ ğ‘†¦ ğ‘†§ ğ‘†¨ ğ‘†© ğ‘†ª ğ‘†« ğ‘†¬ ğ‘†® ğ‘†¯ ğ‘†° ğ‘†± ğ‘†²"),
        (Siddham, "ğ‘– ğ‘– ğ‘– ğ‘–‘ ğ‘–’ ğ‘–“ ğ‘–” ğ‘–• ğ‘–– ğ‘–— ğ‘–˜ ğ‘–™ ğ‘–š ğ‘–› ğ‘–œ ğ‘– ğ‘– ğ‘–Ÿ ğ‘–  ğ‘–¡ ğ‘–¢ ğ‘–£ ğ‘–¤ ğ‘–¥ ğ‘–¦ ğ‘–§ ğ‘–¨ ğ‘–© ğ‘–ª ğ‘–« ğ‘–¬ ğ‘–­ ğ‘–®"),
        (Sinhala, "à¶š à¶› à¶œ à¶ à¶ à¶  à¶¡ à¶¢ à¶£ à¶¤ à¶§ à¶¨ à¶© à¶ª à¶« à¶­ à¶® à¶¯ à¶° à¶± à¶´ à¶µ à¶¶ à¶· à¶¸ à¶º à¶» à¶½ à·€ à· à·‚ à·ƒ à·„"),
        (Soyombo, "ğ‘©œ ğ‘© ğ‘© ğ‘©Ÿ ğ‘©  ğ‘©µ ğ‘©¶ ğ‘©· ğ‘©¤ ğ‘©¥ ğ‘©¦ ğ‘©§ ğ‘©¨ ğ‘©© ğ‘©ª ğ‘©« ğ‘©¬ ğ‘©­ ğ‘©® ğ‘©¯ ğ‘©° ğ‘©± ğ‘©² ğ‘©³ ğ‘©´ ğ‘©» ğ‘©¼ ğ‘©½ ğ‘©¾ ğ‘©¿ ğ‘ª€ ğ‘ª ğ‘ª‚"),
        (TaiTham, "á¨  á¨¡ á¨£ á¨¥ á¨¦ á¨§ á¨¨ á¨© á¨« á¨¬ á¨­ á¨® á¨¯ á¨° á¨± á¨² á¨³ á¨´ á¨µ á¨¶ á¨¸ á¨¹ á¨» á¨½ á¨¾ á¨¿ á© á©ƒ á©… á©† á©‡ á©ˆ á©‰"),
        (Takri, "ğ‘šŠ ğ‘š¸ ğ‘šŒ ğ‘š ğ‘š ğ‘š ğ‘š ğ‘š‘ ğ‘š’ ğ‘š“ ğ‘š” ğ‘š• ğ‘š– ğ‘š— ğ‘š˜ ğ‘š™ ğ‘šš ğ‘š› ğ‘šœ ğ‘š ğ‘š ğ‘šŸ ğ‘š  ğ‘š¡ ğ‘š¢ ğ‘š£ ğ‘š¤ ğ‘š¥ ğ‘š¦ ğ‘š§ ğ‘š‹ ğ‘š¨ ğ‘š©"),
        (Tamil, "à®• à®•Â² à®•Â³ à®•â´ à®™ à®š à®šÂ² à®œ à®œÂ² à® à®Ÿ à®ŸÂ² à®ŸÂ³ à®Ÿâ´ à®£ à®¤ à®¤Â² à®¤Â³ à®¤â´ à®¨ à®ª à®ªÂ² à®ªÂ³ à®ªâ´ à®® à®¯ à®° à®² à®µ à®¶ à®· à®¸ à®¹"),
        (Telugu, "à°• à°– à°— à°˜ à°™ à°š à°› à°œ à° à° à°Ÿ à°  à°¡ à°¢ à°£ à°¤ à°¥ à°¦ à°§ à°¨ à°ª à°« à°¬ à°­ à°® à°¯ à°° à°² à°µ à°¶ à°· à°¸ à°¹"),
        (Thai, "à¸ à¸‚ à¸„ à¸† à¸‡ à¸ˆ à¸‰ à¸Š à¸Œ à¸ à¸ à¸ à¸‘ à¸’ à¸“ à¸• à¸– à¸— à¸˜ à¸™ à¸› à¸œ à¸ à¸  à¸¡ à¸¢ à¸£ à¸¥ à¸§ à¸¨ à¸© à¸ª à¸«"),
        (Tirhuta, "ğ‘’ ğ‘’ ğ‘’‘ ğ‘’’ ğ‘’“ ğ‘’” ğ‘’• ğ‘’– ğ‘’— ğ‘’˜ ğ‘’™ ğ‘’š ğ‘’› ğ‘’œ ğ‘’ ğ‘’ ğ‘’Ÿ ğ‘’  ğ‘’¡ ğ‘’¢ ğ‘’£ ğ‘’¤ ğ‘’¥ ğ‘’¦ ğ‘’§ ğ‘’¨ ğ‘’© ğ‘’ª ğ‘’« ğ‘’¬ ğ‘’­ ğ‘’® ğ‘’¯"),
        (ZanabazarSquare, "ğ‘¨‹ ğ‘¨Œ ğ‘¨ ğ‘¨ ğ‘¨ ğ‘¨£ ğ‘¨¤ ğ‘¨¥ ğ‘¨¦ ğ‘¨“ ğ‘¨” ğ‘¨• ğ‘¨– ğ‘¨— ğ‘¨˜ ğ‘¨™ ğ‘¨š ğ‘¨› ğ‘¨œ ğ‘¨ ğ‘¨ ğ‘¨Ÿ ğ‘¨  ğ‘¨¡ ğ‘¨¢ ğ‘¨ª ğ‘¨« ğ‘¨¬ ğ‘¨­ ğ‘¨® ğ‘¨¯ ğ‘¨° ğ‘¨±"),
    ]);

    // No distinction between ba / va
    assert_one_way_pairwise(
        (Slp1, slp1),
        &[
            (
                Bengali,
                "à¦• à¦– à¦— à¦˜ à¦™ à¦š à¦› à¦œ à¦ à¦ à¦Ÿ à¦  à¦¡ à¦¢ à¦£ à¦¤ à¦¥ à¦¦ à¦§ à¦¨ à¦ª à¦« à¦¬ à¦­ à¦® à¦¯ à¦° à¦² à¦¬ à¦¶ à¦· à¦¸ à¦¹",
            ),
            (
                Tibetan,
                "à½€à¼‹à½à¼‹à½‚à¼‹à½‚à¾·à¼‹à½„à¼‹à½™à¼‹à½šà¼‹à½›à¼‹à½›à¾·à¼‹à½‰à¼‹à½Šà¼‹à½‹à¼‹à½Œà¼‹à½Œà¾·à¼‹à½à¼‹à½à¼‹à½à¼‹à½‘à¼‹à½‘à¾·à¼‹à½“à¼‹à½”à¼‹à½•à¼‹à½–à¼‹à½–à¾·à¼‹à½˜à¼‹à½¡à¼‹à½¢à¼‹à½£à¼‹à½–à¼‹à½¤à¼‹à½¥à¼‹à½¦à¼‹à½§",
            ),
        ],
    );

    // No nga or jha
    assert_transliterate(
        slp1,
        Slp1,
        Kharoshthi,
        "ğ¨ ğ¨‘ ğ¨’ ğ¨“ ğ¨£ ğ¨• ğ¨– ğ¨— ğ¨— ğ¨™ ğ¨š ğ¨› ğ¨œ ğ¨ ğ¨ ğ¨Ÿ ğ¨  ğ¨¡ ğ¨¢ ğ¨£ ğ¨¤ ğ¨¥ ğ¨¦ ğ¨§ ğ¨¨ ğ¨© ğ¨ª ğ¨« ğ¨¬ ğ¨­ ğ¨® ğ¨¯ ğ¨±",
    );

    // No jha, various nasals missing
    assert_transliterate(
        slp1,
        Slp1,
        Limbu,
        "á¤ á¤‚ á¤ƒ á¤„ á¤… á¤† á¤‡ á¤ˆ á¤ˆ á¤ á¤‹ á¤Œ á¤ á¤ á¤ á¤‹ á¤Œ á¤ á¤ á¤ á¤ á¤‘ á¤’ á¤“ á¤” á¤• á¤– á¤— á¤˜ á¤™ á¤™ á¤› á¤œ",
    );

    // No distinction between ca/cha and others.
    assert_transliterate(
        slp1,
        Slp1,
        MeeteiMayek,
        "ê¯€ ê¯ˆ ê¯’ ê¯˜ ê¯‰ ê¯† ê¯† ê¯– ê¯“ ê¯… ê¯‡ ê¯Š ê¯— ê¯™ ê¯… ê¯‡ ê¯Š ê¯— ê¯™ ê¯… ê¯„ ê¯ ê¯• ê¯š ê¯ƒ ê¯Œ ê¯” ê¯‚ ê¯‹ ê¯ ê¯ ê¯ ê¯",
    );

    // No distinction between sa-s.
    assert_transliterate(
        slp1,
        Slp1,
        OlChiki,
        concat!(
            "á± á±š á± á±·á±š á±œá±š á±œá±·á±š á±¶á±š á±ªá±š á±ªá±·á±š á±¡á±š á±¡á±·á±š á±§á±š á±´á±š á±´á±·á±š á±°á±š á±°á±·á±š á±¬á±š ",
            "á±›á±š á±›á±·á±š á±«á±š á±«á±·á±š á±±á±š á±¯á±š á±¯á±·á±š á±µá±š á±µá±·á±š á±¢á±š á±­á±š á±¨á±š á±á±š á±£á±š á±¥á±š á±¥á±š á±¥á±š á±¦á±š"
        ),
    );

    // Missing two na-s and two sa-s
    assert_one_way_pairwise(
        (Slp1, slp1),
        &[(
            GunjalaGondi,
            "ğ‘µ± ğ‘µ² ğ‘µ¶ ğ‘µ· ğ‘¶„ ğ‘µ» ğ‘µ¼ ğ‘¶€ ğ‘¶ ğ‘µº ğ‘µ½ ğ‘µ¾ ğ‘¶‚ ğ‘¶ƒ ğ‘µº ğ‘µ³ ğ‘µ´ ğ‘µ¸ ğ‘µ¹ ğ‘µº ğ‘¶… ğ‘¶† ğ‘µ® ğ‘µ¯ ğ‘µ° ğ‘µ¬ ğ‘¶ˆ ğ‘µµ ğ‘µ­ ğ‘¶‰ ğ‘¶‰ ğ‘¶‰ ğ‘¶‡",
        )],
    );

    // No distinction between Ta / ta
    assert_one_way_pairwise(
        (Slp1, slp1),
        &[(
            Cham,
            "ê¨† ê¨‡ ê¨ˆ ê¨‰ ê¨‹ ê¨Œ ê¨ ê¨ ê¨ ê¨‘ ê¨“ ê¨” ê¨• ê¨– ê¨˜ ê¨“ ê¨” ê¨• ê¨– ê¨˜ ê¨š ê¨œ ê¨ ê¨ ê¨  ê¨¢ ê¨£ ê¨¤ ê¨¥ ê¨¦ ê¨¦ ê¨§ ê¨¨",
        )],
    );
}

// Test only Latin schemes, since most Brahmic schemes will just use a candrabindu here.
#[test]
fn sanskrit_nasal_semivowels() {
    // Example from https://list.indology.info/pipermail/indology/2023-October/058252.html
    let deva_text = "à¤¤à¥à¤°à¥€à¤²à¥à¤à¤²à¥‹à¤•à¤¾à¤¨à¥";

    assert_two_way_pairwise(&[
        (Devanagari, deva_text),
        (Iast, "trÄ«lmÌlokÄn"),
        (Iso15919, "trÄ«lmÌlÅkÄn"),
        (Slp1, "trIl~lokAn"),
    ]);

    // Alternate for IAST.
    // TODO: or should this be preferred?
    assert_transliterate("trÄ«lÌƒlokÄn", Iast, Devanagari, deva_text);
}

#[test]
fn sanskrit_symbols() {
    assert_two_way_pairwise(&[
        (HarvardKyoto, "0 1 2 3 4 5 6 7 8 9 . .. '"),
        (Iast, "0 1 2 3 4 5 6 7 8 9 . .. '"),
        (Itrans, "0 1 2 3 4 5 6 7 8 9 | || .a"),
        (Slp1, "0 1 2 3 4 5 6 7 8 9 . .. '"),
        (Velthuis, "0 1 2 3 4 5 6 7 8 9 | || .a"),
        (Wx, "0 1 2 3 4 5 6 7 8 9 . .. Z"),
        // Indic
        (Assamese, "à§¦ à§§ à§¨ à§© à§ª à§« à§¬ à§­ à§® à§¯ à¥¤ à¥¥ à¦½"),
        (Bengali, "à§¦ à§§ à§¨ à§© à§ª à§« à§¬ à§­ à§® à§¯ à¥¤ à¥¥ à¦½"),
        (Bhaiksuki, "ğ‘±ğ‘±ƒğ‘±‘ğ‘±ƒğ‘±’ğ‘±ƒğ‘±“ğ‘±ƒğ‘±”ğ‘±ƒğ‘±•ğ‘±ƒğ‘±–ğ‘±ƒğ‘±—ğ‘±ƒğ‘±˜ğ‘±ƒğ‘±™ğ‘±ƒğ‘±ğ‘±ƒğ‘±‚ğ‘±ƒğ‘±€"),
        (Cham, "ê© ê©‘ ê©’ ê©“ ê©” ê©• ê©– ê©— ê©˜ ê©™ ê© ê© '"),
        (Devanagari, "à¥¦ à¥§ à¥¨ à¥© à¥ª à¥« à¥¬ à¥­ à¥® à¥¯ à¥¤ à¥¥ à¤½"),
        (Dogra, "à¥¦ à¥§ à¥¨ à¥© à¥ª à¥« à¥¬ à¥­ à¥® à¥¯ à¥¤ à¥¥ à¤½"),
        (Grantha, "à¯¦ à¯§ à¯¨ à¯© à¯ª à¯« à¯¬ à¯­ à¯® à¯¯ à¥¤ à¥¥ ğ‘Œ½"),
        // TODO: confirm correct behavior of Gunjala Gondi avagraha.
        (GunjalaGondi, "ğ‘¶  ğ‘¶¡ ğ‘¶¢ ğ‘¶£ ğ‘¶¤ ğ‘¶¥ ğ‘¶¦ ğ‘¶§ ğ‘¶¨ ğ‘¶© . .. à¤½"),
        (Gujarati, "à«¦ à«§ à«¨ à«© à«ª à«« à«¬ à«­ à«® à«¯ à¥¤ à¥¥ àª½"),
        (Gurmukhi, "à©¦ à©§ à©¨ à©© à©ª à©« à©¬ à©­ à©® à©¯ à¥¤ à¥¥ à¤½"),
        (Javanese, "ê§ ê§‘ ê§’ ê§“ ê§” ê§• ê§– ê§— ê§˜ ê§™ ê§ˆ ê§‰ '"),
        (Kaithi, "à¥¦ à¥§ à¥¨ à¥© à¥ª à¥« à¥¬ à¥­ à¥® à¥¯ ğ‘ƒ€ ğ‘ƒ à¤½"),
        (Kannada, "à³¦ à³§ à³¨ à³© à³ª à³« à³¬ à³­ à³® à³¯ à¥¤ à¥¥ à²½"),
        (Khmer, "áŸ  áŸ¡ áŸ¢ áŸ£ áŸ¤ áŸ¥ áŸ¦ áŸ§ áŸ¨ áŸ© áŸ” áŸ• áŸœ"),
        (Khudawadi, "ğ‘‹° ğ‘‹± ğ‘‹² ğ‘‹³ ğ‘‹´ ğ‘‹µ ğ‘‹¶ ğ‘‹· ğ‘‹¸ ğ‘‹¹ à¥¤ à¥¥ à¤½"),
        (Limbu, "á¥† á¥‡ á¥ˆ á¥‰ á¥Š á¥‹ á¥Œ á¥ á¥ á¥ à¥¤ à¥¥ '"),
        (Malayalam, "àµ¦ àµ§ àµ¨ àµ© àµª àµ« àµ¬ àµ­ àµ® àµ¯ à¥¤ à¥¥ à´½"),
        (MasaramGondi, "ğ‘µ ğ‘µ‘ ğ‘µ’ ğ‘µ“ ğ‘µ” ğ‘µ• ğ‘µ– ğ‘µ— ğ‘µ˜ ğ‘µ™ à¥¤ à¥¥ à¤½"),
        (MeeteiMayek, "ê¯° ê¯± ê¯² ê¯³ ê¯´ ê¯µ ê¯¶ ê¯· ê¯¸ ê¯¹ ê¯« ê¯«ê¯« '"),
        (Modi, "ğ‘™ ğ‘™‘ ğ‘™’ ğ‘™“ ğ‘™” ğ‘™• ğ‘™– ğ‘™— ğ‘™˜ ğ‘™™ ğ‘™ ğ‘™‚ à¤½"),
        (Mon, "á€ á á‚ áƒ á„ á… á† á‡ áˆ á‰ áŠ á‹ '"),
        (Nandinagari, "à³¦ à³§ à³¨ à³© à³ª à³« à³¬ à³­ à³® à³¯ à¥¤ à¥¥ ğ‘§¡"),
        (Newa, "ğ‘‘ ğ‘‘‘ ğ‘‘’ ğ‘‘“ ğ‘‘” ğ‘‘• ğ‘‘– ğ‘‘— ğ‘‘˜ ğ‘‘™ ğ‘‘‹ ğ‘‘Œ ğ‘‘‡"),
        (Odia, "à­¦ à­§ à­¨ à­© à­ª à­« à­¬ à­­ à­® à­¯ à¥¤ à¥¥ à¬½"),
        (OlChiki, "á± á±‘ á±’ á±“ á±” á±• á±– á±— á±˜ á±™ á±¾ á±¿ '"),
        (Saurashtra, "ê£ ê£‘ ê£’ ê£“ ê£” ê£• ê£– ê£— ê£˜ ê£™ ê£ ê£ à°½"),
        // (Soyombo, "0 1 2 3 4 5 6 7 8 9 ğ‘ª› ğ‘ªœ '"),
        (TaiTham, "áª áª‘ áª’ áª“ áª” áª• áª– áª— áª˜ áª™ áª¨ áª© '"),
        (Takri, "ğ‘›€ ğ‘› ğ‘›‚ ğ‘›ƒ ğ‘›„ ğ‘›… ğ‘›† ğ‘›‡ ğ‘›ˆ ğ‘›‰ à¥¤ à¥¥ à¤½"),
        (Telugu, "à±¦ à±§ à±¨ à±© à±ª à±« à±¬ à±­ à±® à±¯ à¥¤ à¥¥ à°½"),
        (Thai, "à¹ à¹‘ à¹’ à¹“ à¹” à¹• à¹– à¹— à¹˜ à¹™ à¸¯ à¹š '"),
        (Tibetan, "à¼ à¼‹à¼¡à¼‹à¼¢à¼‹à¼£à¼‹à¼¤à¼‹à¼¥à¼‹à¼¦à¼‹à¼§à¼‹à¼¨à¼‹à¼©à¼‹à¼à¼‹à¼à¼‹à¾…"),
        (Tirhuta, "ğ‘“ ğ‘“‘ ğ‘“’ ğ‘““ ğ‘“” ğ‘“• ğ‘“– ğ‘“— ğ‘“˜ ğ‘“™ à¥¤ à¥¥ ğ‘“„"),
    ]);

    // Only dandas
    assert_two_way_pairwise(&[(Slp1, ". .."), (ZanabazarSquare, "ğ‘©‚ ğ‘©ƒ")]);
}

#[test]
fn sanskrit_basic_sentences() {
    let slp1_text = concat!(
        "nArAyaRaM namaskftya naraM cEva narottamam . ",
        "devIM sarasvatIM cEva tato jayamudIrayet .. 1 .."
    );
    assert_two_way_pairwise(&[
        (BarahaSouth, "nArAyaNaM namaskRutya naraM chaiva narOttamam | dEvIM sarasvatIM chaiva tatO jayamudIrayEt || 1 ||",),
        (HarvardKyoto, "nArAyaNaM namaskRtya naraM caiva narottamam . devIM sarasvatIM caiva tato jayamudIrayet .. 1 ..",),
        (Iast, "nÄrÄyaá¹‡aá¹ƒ namaská¹›tya naraá¹ƒ caiva narottamam . devÄ«á¹ƒ sarasvatÄ«á¹ƒ caiva tato jayamudÄ«rayet .. 1 .."),
        (Iso15919, "nÄrÄyaá¹‡aá¹ namaskrÌ¥tya naraá¹ caiva narÅttamam . dÄ“vÄ«á¹ sarasvatÄ«á¹ caiva tatÅ jayamudÄ«rayÄ“t .. 1 .."),
        (Itrans, "nArAyaNaM namaskRRitya naraM chaiva narottamam | devIM sarasvatIM chaiva tato jayamudIrayet || 1 ||"),
        (Slp1, slp1_text),
        (Velthuis, "naaraaya.na.m namask.rtya nara.m caiva narottamam | devii.m sarasvatii.m caiva tato jayamudiirayet || 1 ||"),
        (Wx, "nArAyaNaM namaskqwya naraM cEva narowwamam . xevIM sarasvawIM cEva wawo jayamuxIrayew .. 1 .."),
        // Indic
        (Balinese, "á¬¦á¬µá¬­á¬µá¬¬á¬¡á¬‚ á¬¦á¬«á¬²á­„á¬“á¬ºá¬¢á­„á¬¬ á¬¦á¬­á¬‚ á¬˜á¬¿á¬¯ á¬¦á¬­á­€á¬¢á­„á¬¢á¬«á¬«á­„ á­ á¬¤á¬¾á¬¯á¬·á¬‚ á¬²á¬­á¬²á­„á¬¯á¬¢á¬·á¬‚ á¬˜á¬¿á¬¯ á¬¢á¬¢á­€ á¬šá¬¬á¬«á¬¸á¬¤á¬·á¬­á¬¬á¬¾á¬¢á­„ á­Ÿ á­‘ á­Ÿ"),
        (Bhaiksuki, "ğ‘°¡ğ‘°¯ğ‘°¨ğ‘°¯ğ‘°§ğ‘°œğ‘°½ğ‘±ƒğ‘°¡ğ‘°¦ğ‘°­ğ‘°¿ğ‘°ğ‘°´ğ‘°ğ‘°¿ğ‘°§ğ‘±ƒğ‘°¡ğ‘°¨ğ‘°½ğ‘±ƒğ‘°“ğ‘°¹ğ‘°ªğ‘±ƒğ‘°¡ğ‘°¨ğ‘°ºğ‘°ğ‘°¿ğ‘°ğ‘°¦ğ‘°¦ğ‘°¿ğ‘±ƒğ‘±ğ‘±ƒğ‘°Ÿğ‘°¸ğ‘°ªğ‘°±ğ‘°½ğ‘±ƒğ‘°­ğ‘°¨ğ‘°­ğ‘°¿ğ‘°ªğ‘°ğ‘°±ğ‘°½ğ‘±ƒğ‘°“ğ‘°¹ğ‘°ªğ‘±ƒğ‘°ğ‘°ğ‘°ºğ‘±ƒğ‘°•ğ‘°§ğ‘°¦ğ‘°²ğ‘°Ÿğ‘°±ğ‘°¨ğ‘°§ğ‘°¸ğ‘°ğ‘°¿ğ‘±ƒğ‘±‚ğ‘±ƒğ‘±‘ğ‘±ƒğ‘±‚"),
        (Brahmi, "ğ‘€¦ğ‘€¸ğ‘€­ğ‘€¸ğ‘€¬ğ‘€¡ğ‘€ ğ‘€¦ğ‘€«ğ‘€²ğ‘†ğ‘€“ğ‘€¾ğ‘€¢ğ‘†ğ‘€¬ ğ‘€¦ğ‘€­ğ‘€ ğ‘€˜ğ‘ƒğ‘€¯ ğ‘€¦ğ‘€­ğ‘„ğ‘€¢ğ‘†ğ‘€¢ğ‘€«ğ‘€«ğ‘† ğ‘‡ ğ‘€¤ğ‘‚ğ‘€¯ğ‘€»ğ‘€ ğ‘€²ğ‘€­ğ‘€²ğ‘†ğ‘€¯ğ‘€¢ğ‘€»ğ‘€ ğ‘€˜ğ‘ƒğ‘€¯ ğ‘€¢ğ‘€¢ğ‘„ ğ‘€šğ‘€¬ğ‘€«ğ‘€¼ğ‘€¤ğ‘€»ğ‘€­ğ‘€¬ğ‘‚ğ‘€¢ğ‘† ğ‘ˆ ğ‘§ ğ‘ˆ"),
        (Burmese, "á€”á€¬á€›á€¬á€šá€á€¶ á€”á€™á€á€¹á€€á–á€á€» á€”á€›á€¶ á€…á€²á€ á€”á€›á€±á€¬á€á€¹á€á€™á€™á€º áŠ á€’á€±á€á€®á€¶ á€á€›á€á€½á€á€®á€¶ á€…á€²á€ á€á€á€±á€¬ á€‡á€šá€™á€¯á€’á€®á€›á€šá€±á€á€º á‹ á á‹"),
        (Devanagari, "à¤¨à¤¾à¤°à¤¾à¤¯à¤£à¤‚ à¤¨à¤®à¤¸à¥à¤•à¥ƒà¤¤à¥à¤¯ à¤¨à¤°à¤‚ à¤šà¥ˆà¤µ à¤¨à¤°à¥‹à¤¤à¥à¤¤à¤®à¤®à¥ à¥¤ à¤¦à¥‡à¤µà¥€à¤‚ à¤¸à¤°à¤¸à¥à¤µà¤¤à¥€à¤‚ à¤šà¥ˆà¤µ à¤¤à¤¤à¥‹ à¤œà¤¯à¤®à¥à¤¦à¥€à¤°à¤¯à¥‡à¤¤à¥ à¥¥ à¥§ à¥¥"),
        (Dogra, "ğ‘ ğ‘ ¬ğ‘ ¤ğ‘ ¬ğ‘ £ğ‘ ˜ğ‘ · ğ‘ ğ‘ ¢ğ‘ ©ğ‘ ¹ğ‘ Šğ‘ ±ğ‘ ™ğ‘ ¹ğ‘ £ ğ‘ ğ‘ ¤ğ‘ · ğ‘ ğ‘ ´ğ‘ ¦ ğ‘ ğ‘ ¤ğ‘ µğ‘ ™ğ‘ ¹ğ‘ ™ğ‘ ¢ğ‘ ¢ğ‘ ¹ à¥¤ ğ‘ ›ğ‘ ³ğ‘ ¦ğ‘ ®ğ‘ · ğ‘ ©ğ‘ ¤ğ‘ ©ğ‘ ¹ğ‘ ¦ğ‘ ™ğ‘ ®ğ‘ · ğ‘ ğ‘ ´ğ‘ ¦ ğ‘ ™ğ‘ ™ğ‘ µ ğ‘ ‘ğ‘ £ğ‘ ¢ğ‘ ¯ğ‘ ›ğ‘ ®ğ‘ ¤ğ‘ £ğ‘ ³ğ‘ ™ğ‘ ¹ à¥¥ à¥§ à¥¥"),
        (Grantha, "ğ‘Œ¨ğ‘Œ¾ğ‘Œ°ğ‘Œ¾ğ‘Œ¯ğ‘Œ£ğ‘Œ‚ ğ‘Œ¨ğ‘Œ®ğ‘Œ¸ğ‘ğ‘Œ•ğ‘ƒğ‘Œ¤ğ‘ğ‘Œ¯ ğ‘Œ¨ğ‘Œ°ğ‘Œ‚ ğ‘Œšğ‘ˆğ‘Œµ ğ‘Œ¨ğ‘Œ°ğ‘‹ğ‘Œ¤ğ‘ğ‘Œ¤ğ‘Œ®ğ‘Œ®ğ‘ à¥¤ ğ‘Œ¦ğ‘‡ğ‘Œµğ‘€ğ‘Œ‚ ğ‘Œ¸ğ‘Œ°ğ‘Œ¸ğ‘ğ‘Œµğ‘Œ¤ğ‘€ğ‘Œ‚ ğ‘Œšğ‘ˆğ‘Œµ ğ‘Œ¤ğ‘Œ¤ğ‘‹ ğ‘Œœğ‘Œ¯ğ‘Œ®ğ‘ğ‘Œ¦ğ‘€ğ‘Œ°ğ‘Œ¯ğ‘‡ğ‘Œ¤ğ‘ à¥¥ à¯§ à¥¥"),
        (Gujarati, "àª¨àª¾àª°àª¾àª¯àª£àª‚ àª¨àª®àª¸à«àª•à«ƒàª¤à«àª¯ àª¨àª°àª‚ àªšà«ˆàªµ àª¨àª°à«‹àª¤à«àª¤àª®àª®à« à¥¤ àª¦à«‡àªµà«€àª‚ àª¸àª°àª¸à«àªµàª¤à«€àª‚ àªšà«ˆàªµ àª¤àª¤à«‹ àªœàª¯àª®à«àª¦à«€àª°àª¯à«‡àª¤à« à¥¥ à«§ à¥¥"),
        (Javanese, "ê¦¤ê¦´ê¦«ê¦´ê¦ªê¦Ÿê¦ ê¦¤ê¦©ê¦±ê§€ê¦ê¦½ê¦ ê¦¾ ê¦¤ê¦«ê¦ ê¦•ê¦»ê¦® ê¦¤ê¦«ê¦ºê¦´ê¦ ê§€ê¦ ê¦©ê¦©ê§€ ê§ˆ ê¦¢ê¦ºê¦®ê¦·ê¦ ê¦±ê¦«ê¦±ê§€ê¦®ê¦ ê¦·ê¦ ê¦•ê¦»ê¦® ê¦ ê¦ ê¦ºê¦´ ê¦—ê¦ªê¦©ê¦¸ê¦¢ê¦·ê¦«ê¦ªê¦ºê¦ ê§€ ê§‰ ê§‘ ê§‰"),
        (Kaithi, "ğ‘‚¢ğ‘‚°ğ‘‚©ğ‘‚°ğ‘‚¨ğ‘‚ğ‘‚ ğ‘‚¢ğ‘‚§ğ‘‚®ğ‘‚¹ğ‘‚ğ‘‚¹ğ‘‚©ğ‘‚±ğ‘‚ğ‘‚¹ğ‘‚¨ ğ‘‚¢ğ‘‚©ğ‘‚ ğ‘‚’ğ‘‚¶ğ‘‚« ğ‘‚¢ğ‘‚©ğ‘‚·ğ‘‚ğ‘‚¹ğ‘‚ğ‘‚§ğ‘‚§ğ‘‚¹ ğ‘ƒ€ ğ‘‚ ğ‘‚µğ‘‚«ğ‘‚²ğ‘‚ ğ‘‚®ğ‘‚©ğ‘‚®ğ‘‚¹ğ‘‚«ğ‘‚ğ‘‚²ğ‘‚ ğ‘‚’ğ‘‚¶ğ‘‚« ğ‘‚ğ‘‚ğ‘‚· ğ‘‚”ğ‘‚¨ğ‘‚§ğ‘‚³ğ‘‚ ğ‘‚²ğ‘‚©ğ‘‚¨ğ‘‚µğ‘‚ğ‘‚¹ ğ‘ƒ à¥§ ğ‘ƒ"),
        (Kannada, "à²¨à²¾à²°à²¾à²¯à²£à²‚ à²¨à²®à²¸à³à²•à³ƒà²¤à³à²¯ à²¨à²°à²‚ à²šà³ˆà²µ à²¨à²°à³‹à²¤à³à²¤à²®à²®à³ à¥¤ à²¦à³‡à²µà³€à²‚ à²¸à²°à²¸à³à²µà²¤à³€à²‚ à²šà³ˆà²µ à²¤à²¤à³‹ à²œà²¯à²®à³à²¦à³€à²°à²¯à³‡à²¤à³ à¥¥ à³§ à¥¥"),
        (Kharoshthi, "ğ¨£ğ¨Œğ¨ªğ¨Œğ¨©ğ¨ğ¨ ğ¨£ğ¨¨ğ¨¯ğ¨¿ğ¨ğ¨ƒğ¨Ÿğ¨¿ğ¨© ğ¨£ğ¨ªğ¨ ğ¨•ğ¨…ğ¨Œğ¨¬ ğ¨£ğ¨ªğ¨†ğ¨Ÿğ¨¿ğ¨Ÿğ¨¨ğ¨¨ğ¨¿ ğ©– ğ¨¡ğ¨…ğ¨¬ğ¨ğ¨Œğ¨ ğ¨¯ğ¨ªğ¨¯ğ¨¿ğ¨¬ğ¨Ÿğ¨ğ¨Œğ¨ ğ¨•ğ¨…ğ¨Œğ¨¬ ğ¨Ÿğ¨Ÿğ¨† ğ¨—ğ¨©ğ¨¨ğ¨‚ğ¨¡ğ¨ğ¨Œğ¨ªğ¨©ğ¨…ğ¨Ÿğ¨¿ ğ©— ğ©€ ğ©—"),
        (Khmer, "á“á¶ášá¶á™ááŸ† á“á˜áŸáŸ’á€áŸ’á«ááŸ’á™ á“ášáŸ† á…áŸƒáœ á“ášáŸ„ááŸ’áá˜á˜áŸ‘ áŸ” á‘áŸáœá¸áŸ† áŸášáŸáŸ’áœáá¸áŸ† á…áŸƒáœ áááŸ„ á‡á™á˜á»á‘á¸ášá™áŸááŸ‘ áŸ• áŸ¡ áŸ•"),
        (Khudawadi, "ğ‘‹‘ğ‘‹ ğ‘‹™ğ‘‹ ğ‘‹˜ğ‘‹Œğ‘‹Ÿ ğ‘‹‘ğ‘‹—ğ‘‹ğ‘‹ªğ‘Šºğ‘‹ªğ‘‹™ğ‘‹¡ğ‘‹ğ‘‹ªğ‘‹˜ ğ‘‹‘ğ‘‹™ğ‘‹Ÿ ğ‘‹€ğ‘‹¦ğ‘‹› ğ‘‹‘ğ‘‹™ğ‘‹§ğ‘‹ğ‘‹ªğ‘‹ğ‘‹—ğ‘‹—ğ‘‹ª à¥¤ ğ‘‹ğ‘‹¥ğ‘‹›ğ‘‹¢ğ‘‹Ÿ ğ‘‹ğ‘‹™ğ‘‹ğ‘‹ªğ‘‹›ğ‘‹ğ‘‹¢ğ‘‹Ÿ ğ‘‹€ğ‘‹¦ğ‘‹› ğ‘‹ğ‘‹ğ‘‹§ ğ‘‹‚ğ‘‹˜ğ‘‹—ğ‘‹£ğ‘‹ğ‘‹¢ğ‘‹™ğ‘‹˜ğ‘‹¥ğ‘‹ğ‘‹ª à¥¥ ğ‘‹± à¥¥"),
        // (Limbu, "á¤á¤ á¤–á¤ á¤•á¤á¤± á¤á¤”á¤›á¤»á¤á¤ªá¤¢á¤‹á¤© á¤á¤–á¤± á¤†á¤¤á¤˜ á¤á¤–á¤¥á¤³á¤‹á¤”á¤¶ à¥¤ á¤á¤£á¤˜á¤¡á¤ºá¤± á¤›á¤–á¤›á¤«á¤‹á¤¡á¤ºá¤± á¤†á¤¤á¤˜ á¤‹á¤‹á¤¥ á¤ˆá¤•á¤”á¤¢á¤á¤¡á¤ºá¤–á¤•á¤£á¤³ à¥¥ á¥‡ à¥¥"),
        (Malayalam, "à´¨à´¾à´°à´¾à´¯à´£à´‚ à´¨à´®à´¸àµà´•àµƒà´¤àµà´¯ à´¨à´°à´‚ à´šàµˆà´µ à´¨à´°àµ‹à´¤àµà´¤à´®à´®àµ à¥¤ à´¦àµ‡à´µàµ€à´‚ à´¸à´°à´¸àµà´µà´¤àµ€à´‚ à´šàµˆà´µ à´¤à´¤àµ‹ à´œà´¯à´®àµà´¦àµ€à´°à´¯àµ‡à´¤àµ à¥¥ àµ§ à¥¥"),
        (MasaramGondi, "ğ‘´Ÿğ‘´±ğ‘´¦ğ‘´±ğ‘´¥ğ‘´šğ‘µ€ ğ‘´Ÿğ‘´¤ğ‘´«ğ‘µ…ğ‘´Œğ‘´¶ğ‘´›ğ‘µ…ğ‘´¥ ğ‘´Ÿğ‘´¦ğ‘µ€ ğ‘´‘ğ‘´¼ğ‘´¨ ğ‘´Ÿğ‘´¦ğ‘´½ğ‘´›ğ‘µ…ğ‘´›ğ‘´¤ğ‘´¤ğ‘µ„ à¥¤ ğ‘´ğ‘´ºğ‘´¨ğ‘´³ğ‘µ€ ğ‘´«ğ‘´¦ğ‘´«ğ‘µ…ğ‘´¨ğ‘´›ğ‘´³ğ‘µ€ ğ‘´‘ğ‘´¼ğ‘´¨ ğ‘´›ğ‘´›ğ‘´½ ğ‘´“ğ‘´¥ğ‘´¤ğ‘´´ğ‘´ğ‘´³ğ‘´¦ğ‘´¥ğ‘´ºğ‘´›ğ‘µ„ à¥¥ ğ‘µ‘ à¥¥"),
        (Modi, "ğ‘˜¡ğ‘˜°ğ‘˜¨ğ‘˜°ğ‘˜§ğ‘˜œğ‘˜½ ğ‘˜¡ğ‘˜¦ğ‘˜­ğ‘˜¿ğ‘˜ğ‘˜µğ‘˜ğ‘˜¿ğ‘˜§ ğ‘˜¡ğ‘˜¨ğ‘˜½ ğ‘˜“ğ‘˜ºğ‘˜ª ğ‘˜¡ğ‘˜¨ğ‘˜»ğ‘˜ğ‘˜¿ğ‘˜ğ‘˜¦ğ‘˜¦ğ‘˜¿ ğ‘™ ğ‘˜Ÿğ‘˜¹ğ‘˜ªğ‘˜²ğ‘˜½ ğ‘˜­ğ‘˜¨ğ‘˜­ğ‘˜¿ğ‘˜ªğ‘˜ğ‘˜²ğ‘˜½ ğ‘˜“ğ‘˜ºğ‘˜ª ğ‘˜ğ‘˜ğ‘˜» ğ‘˜•ğ‘˜§ğ‘˜¦ğ‘˜³ğ‘˜Ÿğ‘˜²ğ‘˜¨ğ‘˜§ğ‘˜¹ğ‘˜ğ‘˜¿ ğ‘™‚ ğ‘™‘ ğ‘™‚"),
        (Mon, "á€”á€¬á€›á€¬á€šá€á€¶ á€”á€™á€á€¹á€€á–á€á€» á€”á€›á€¶ á€…á€²á€ á€”á€›á€±á€¬á€á€¹á€á€™á€™á€º áŠ á€’á€±á€á€³á€¶ á€á€›á€á€½á€á€³á€¶ á€…á€²á€ á€á€á€±á€¬ á€‡á€šá€™á€¯á€’á€³á€›á€šá€±á€á€º á‹ á á‹"),
        (Nandinagari, "ğ‘§ğ‘§‘ğ‘§ˆğ‘§‘ğ‘§‡ğ‘¦¼ğ‘§ ğ‘§ğ‘§†ğ‘§ğ‘§ ğ‘¦®ğ‘§–ğ‘¦½ğ‘§ ğ‘§‡ ğ‘§ğ‘§ˆğ‘§ ğ‘¦³ğ‘§›ğ‘§Š ğ‘§ğ‘§ˆğ‘§œğ‘¦½ğ‘§ ğ‘¦½ğ‘§†ğ‘§†ğ‘§  à¥¤ ğ‘¦¿ğ‘§šğ‘§Šğ‘§“ğ‘§ ğ‘§ğ‘§ˆğ‘§ğ‘§ ğ‘§Šğ‘¦½ğ‘§“ğ‘§ ğ‘¦³ğ‘§›ğ‘§Š ğ‘¦½ğ‘¦½ğ‘§œ ğ‘¦µğ‘§‡ğ‘§†ğ‘§”ğ‘¦¿ğ‘§“ğ‘§ˆğ‘§‡ğ‘§šğ‘¦½ğ‘§  à¥¥ à³§ à¥¥"),
        (Newa, "ğ‘£ğ‘µğ‘¬ğ‘µğ‘«ğ‘ğ‘‘„ ğ‘£ğ‘©ğ‘³ğ‘‘‚ğ‘ğ‘ºğ‘Ÿğ‘‘‚ğ‘« ğ‘£ğ‘¬ğ‘‘„ ğ‘”ğ‘¿ğ‘° ğ‘£ğ‘¬ğ‘‘€ğ‘Ÿğ‘‘‚ğ‘Ÿğ‘©ğ‘©ğ‘‘‚ ğ‘‘‹ ğ‘¡ğ‘¾ğ‘°ğ‘·ğ‘‘„ ğ‘³ğ‘¬ğ‘³ğ‘‘‚ğ‘°ğ‘Ÿğ‘·ğ‘‘„ ğ‘”ğ‘¿ğ‘° ğ‘Ÿğ‘Ÿğ‘‘€ ğ‘–ğ‘«ğ‘©ğ‘¸ğ‘¡ğ‘·ğ‘¬ğ‘«ğ‘¾ğ‘Ÿğ‘‘‚ ğ‘‘Œ ğ‘‘‘ ğ‘‘Œ"),
        (Odia, "à¬¨à¬¾à¬°à¬¾à¬¯à¬£à¬‚ à¬¨à¬®à¬¸à­à¬•à­ƒà¬¤à­à¬¯ à¬¨à¬°à¬‚ à¬šà­ˆà¬µ à¬¨à¬°à­‹à¬¤à­à¬¤à¬®à¬®à­ à¥¤ à¬¦à­‡à¬µà­€à¬‚ à¬¸à¬°à¬¸à­à¬µà¬¤à­€à¬‚ à¬šà­ˆà¬µ à¬¤à¬¤à­‹ à¬œà¬¯à¬®à­à¬¦à­€à¬°à¬¯à­‡à¬¤à­ à¥¥ à­§ à¥¥"),
        (Saurashtra, "ê¢¥ê¢µê¢¬ê¢µê¢«ê¢ ê¢€ ê¢¥ê¢ªê¢±ê£„ê¢’ê¢ºê¢¡ê£„ê¢« ê¢¥ê¢¬ê¢€ ê¢—ê£€ê¢® ê¢¥ê¢¬ê£‚ê¢¡ê£„ê¢¡ê¢ªê¢ªê£„ ê£ ê¢£ê¢¿ê¢®ê¢·ê¢€ ê¢±ê¢¬ê¢±ê£„ê¢®ê¢¡ê¢·ê¢€ ê¢—ê£€ê¢® ê¢¡ê¢¡ê£‚ ê¢™ê¢«ê¢ªê¢¸ê¢£ê¢·ê¢¬ê¢«ê¢¿ê¢¡ê£„ ê£ ê£‘ ê£"),
        (Sharada, "ğ‘†¤ğ‘†³ğ‘†«ğ‘†³ğ‘†ªğ‘†Ÿğ‘† ğ‘†¤ğ‘†©ğ‘†±ğ‘‡€ğ‘†‘ğ‘†¸ğ‘† ğ‘‡€ğ‘†ª ğ‘†¤ğ‘†«ğ‘† ğ‘†–ğ‘†½ğ‘†® ğ‘†¤ğ‘†«ğ‘†¾ğ‘† ğ‘‡€ğ‘† ğ‘†©ğ‘†©ğ‘‡€ ğ‘‡… ğ‘†¢ğ‘†¼ğ‘†®ğ‘†µğ‘† ğ‘†±ğ‘†«ğ‘†±ğ‘‡€ğ‘†®ğ‘† ğ‘†µğ‘† ğ‘†–ğ‘†½ğ‘†® ğ‘† ğ‘† ğ‘†¾ ğ‘†˜ğ‘†ªğ‘†©ğ‘†¶ğ‘†¢ğ‘†µğ‘†«ğ‘†ªğ‘†¼ğ‘† ğ‘‡€ ğ‘‡† ğ‘‡‘ ğ‘‡†"),
        (Siddham, "ğ‘–¡ğ‘–¯ğ‘–¨ğ‘–¯ğ‘–§ğ‘–œğ‘–½ ğ‘–¡ğ‘–¦ğ‘–­ğ‘–¿ğ‘–ğ‘–´ğ‘–ğ‘–¿ğ‘–§ ğ‘–¡ğ‘–¨ğ‘–½ ğ‘–“ğ‘–¹ğ‘–ª ğ‘–¡ğ‘–¨ğ‘–ºğ‘–ğ‘–¿ğ‘–ğ‘–¦ğ‘–¦ğ‘–¿ ğ‘—‚ ğ‘–Ÿğ‘–¸ğ‘–ªğ‘–±ğ‘–½ ğ‘–­ğ‘–¨ğ‘–­ğ‘–¿ğ‘–ªğ‘–ğ‘–±ğ‘–½ ğ‘–“ğ‘–¹ğ‘–ª ğ‘–ğ‘–ğ‘–º ğ‘–•ğ‘–§ğ‘–¦ğ‘–²ğ‘–Ÿğ‘–±ğ‘–¨ğ‘–§ğ‘–¸ğ‘–ğ‘–¿ ğ‘—ƒ 1 ğ‘—ƒ"),
        (TaiTham, "á¨¶á©£á©á©£á¨¿á¨±á©´ á¨¶á¨¾á©ˆá© á¨ á©ºá©‚á¨²á© á¨¿ á¨¶á©á©´ á¨§á©±á©… á¨¶á©á©®á©£á¨²á© á¨²á¨¾á¨¾á©º áª¨ á¨´á©®á©…á©¦á©´ á©ˆá©á©ˆá© á©…á¨²á©¦á©´ á¨§á©±á©… á¨²á¨²á©®á©£ á¨©á¨¿á¨¾á©©á¨´á©¦á©á¨¿á©®á¨²á©º áª© áª‘ áª©"),
        (Tamil, "à®¨à®¾à®°à®¾à®¯à®£à®®à¯Ê¼ à®¨à®®à®¸à¯à®•à¯à®°à¯Ê¼à®¤à¯à®¯ à®¨à®°à®®à¯Ê¼ à®šà¯ˆà®µ à®¨à®°à¯‹à®¤à¯à®¤à®®à®®à¯ . à®¤à¯‡Â³à®µà¯€à®®à¯Ê¼ à®¸à®°à®¸à¯à®µà®¤à¯€à®®à¯Ê¼ à®šà¯ˆà®µ à®¤à®¤à¯‹ à®œà®¯à®®à¯à®¤à¯€Â³à®°à®¯à¯‡à®¤à¯ .. 1 .."),
        (Telugu, "à°¨à°¾à°°à°¾à°¯à°£à°‚ à°¨à°®à°¸à±à°•à±ƒà°¤à±à°¯ à°¨à°°à°‚ à°šà±ˆà°µ à°¨à°°à±‹à°¤à±à°¤à°®à°®à± à¥¤ à°¦à±‡à°µà±€à°‚ à°¸à°°à°¸à±à°µà°¤à±€à°‚ à°šà±ˆà°µ à°¤à°¤à±‹ à°œà°¯à°®à±à°¦à±€à°°à°¯à±‡à°¤à± à¥¥ à±§ à¥¥"),
        (Thai, "à¸™à¸²à¸£à¸²à¸¢à¸“à¹ à¸™à¸¡à¸ªà¸ºà¸à¸ºà¸¤à¸•à¸ºà¸¢ à¸™à¸£à¹ à¹„à¸ˆà¸§ à¸™à¹‚à¸£à¸•à¸ºà¸•à¸¡à¸¡à¸º à¸¯ à¹€à¸—à¸§à¸µà¹ à¸ªà¸£à¸ªà¸ºà¸§à¸•à¸µà¹ à¹„à¸ˆà¸§ à¸•à¹‚à¸• à¸Šà¸¢à¸¡à¸¸à¸—à¸µà¸£à¹€à¸¢à¸•à¸º à¹š à¹‘ à¹š"),
        (Tirhuta, "ğ‘’¢ğ‘’°ğ‘’©ğ‘’°ğ‘’¨ğ‘’ğ‘“€ ğ‘’¢ğ‘’§ğ‘’®ğ‘“‚ğ‘’ğ‘’µğ‘’ğ‘“‚ğ‘’¨ ğ‘’¢ğ‘’©ğ‘“€ ğ‘’”ğ‘’»ğ‘’« ğ‘’¢ğ‘’©ğ‘’¼ğ‘’ğ‘“‚ğ‘’ğ‘’§ğ‘’§ğ‘“‚ à¥¤ ğ‘’ ğ‘’¹ğ‘’«ğ‘’²ğ‘“€ ğ‘’®ğ‘’©ğ‘’®ğ‘“‚ğ‘’«ğ‘’ğ‘’²ğ‘“€ ğ‘’”ğ‘’»ğ‘’« ğ‘’ğ‘’ğ‘’¼ ğ‘’–ğ‘’¨ğ‘’§ğ‘’³ğ‘’ ğ‘’²ğ‘’©ğ‘’¨ğ‘’¹ğ‘’ğ‘“‚ à¥¥ ğ‘“‘ à¥¥"),
    ]);

    // Non-reversible due to vocalic r/rr/l/ll.
    assert_one_way_pairwise(
        (Slp1, slp1_text),
        &[
            (
                Takri,
                "ğ‘šğ‘š­ğ‘š¤ğ‘š­ğ‘š£ğ‘š˜ğ‘š« ğ‘šğ‘š¢ğ‘š¨ğ‘š¶ğ‘šŠğ‘š¶ğ‘š¤ğ‘š®ğ‘š™ğ‘š¶ğ‘š£ ğ‘šğ‘š¤ğ‘š« ğ‘šğ‘š³ğ‘š¦ ğ‘šğ‘š¤ğ‘š´ğ‘š™ğ‘š¶ğ‘š™ğ‘š¢ğ‘š¢ğ‘š¶ à¥¤ ğ‘š›ğ‘š²ğ‘š¦ğ‘š¯ğ‘š« ğ‘š¨ğ‘š¤ğ‘š¨ğ‘š¶ğ‘š¦ğ‘š™ğ‘š¯ğ‘š« ğ‘šğ‘š³ğ‘š¦ ğ‘š™ğ‘š™ğ‘š´ ğ‘š‘ğ‘š£ğ‘š¢ğ‘š°ğ‘š›ğ‘š¯ğ‘š¤ğ‘š£ğ‘š²ğ‘š™ğ‘š¶ à¥¥ ğ‘› à¥¥",
            ),
            (
                ZanabazarSquare,
                "ğ‘¨ğ‘¨Šğ‘¨«ğ‘¨Šğ‘¨ªğ‘¨˜ğ‘¨¸ ğ‘¨ğ‘¨¢ğ‘¨°ğ‘©‡ğ‘¨‹ğ‘©‡ğ‘¨«ğ‘¨‰ğ‘¨™ğ‘©‡ğ‘¨ª ğ‘¨ğ‘¨«ğ‘¨¸ ğ‘¨£ğ‘¨„ğ‘¨Šğ‘¨­ ğ‘¨ğ‘¨«ğ‘¨†ğ‘¨™ğ‘©‡ğ‘¨™ğ‘¨¢ğ‘¨¢ğ‘¨´ ğ‘©‚ ğ‘¨›ğ‘¨„ğ‘¨­ğ‘¨ğ‘¨Šğ‘¨¸ ğ‘¨°ğ‘¨«ğ‘¨°ğ‘©‡ğ‘¨­ğ‘¨™ğ‘¨ğ‘¨Šğ‘¨¸ ğ‘¨£ğ‘¨„ğ‘¨Šğ‘¨­ ğ‘¨™ğ‘¨™ğ‘¨† ğ‘¨¥ğ‘¨ªğ‘¨¢ğ‘¨‚ğ‘¨›ğ‘¨ğ‘¨Šğ‘¨«ğ‘¨ªğ‘¨„ğ‘¨™ğ‘¨´ ğ‘©ƒ 1 ğ‘©ƒ",
            ),
        ],
    );

    // Non-reversible due to y-nukta and no virama.
    assert_transliterate(
        slp1_text,
        Slp1,
        Assamese,
        "à¦¨à¦¾à§°à¦¾à¦¯à¦¼à¦£à¦‚ à¦¨à¦®à¦¸à§à¦•à§ƒà¦¤à§à¦¯ à¦¨à§°à¦‚ à¦šà§ˆà§± à¦¨à§°à§‹à¦¤à§à¦¤à¦®à¦®à§ à¥¤ à¦¦à§‡à§±à§€à¦‚ à¦¸à§°à¦¸à§à§±à¦¤à§€à¦‚ à¦šà§ˆà§± à¦¤à¦¤à§‹ à¦œà¦¯à¦¼à¦®à§à¦¦à§€à§°à¦¯à¦¼à§‡à§ à¥¥ à§§ à¥¥",
    );

    // Non-reversible due to no v/b distinction.
    assert_transliterate(
        slp1_text,
        Slp1,
        Bengali,
        "à¦¨à¦¾à¦°à¦¾à¦¯à¦¼à¦£à¦‚ à¦¨à¦®à¦¸à§à¦•à§ƒà¦¤à§à¦¯ à¦¨à¦°à¦‚ à¦šà§ˆà¦¬ à¦¨à¦°à§‹à¦¤à§à¦¤à¦®à¦®à§ à¥¤ à¦¦à§‡à¦¬à§€à¦‚ à¦¸à¦°à¦¸à§à¦¬à¦¤à§€à¦‚ à¦šà§ˆà¦¬ à¦¤à¦¤à§‹ à¦œà¦¯à¦¼à¦®à§à¦¦à§€à¦°à¦¯à¦¼à§‡à§ à¥¥ à§§ à¥¥",
    );

    // Non-reversible due to no Ta/ta distinctions.
    assert_transliterate(
        slp1_text,
        Slp1,
        Cham,
        "ê¨˜ê¨©ê¨£ê¨©ê¨¢ê¨˜ê©Œ ê¨˜ê¨ ê©‹ê¨†ê¨´ê¨®ê¨“ê¨³ ê¨˜ê¨£ê©Œ ê¨Œê¨°ê¨¥ ê¨˜ê¨£ê¨¯ê©…ê¨“ê¨ ê©Œ ê© ê¨•ê¨¯ê¨®ê¨¥ê¨«ê©Œ ê¨§ê¨£ê¨§ê¨¶ê¨“ê¨«ê©Œ ê¨Œê¨°ê¨¥ ê¨“ê¨“ê¨¯ ê¨ê¨¢ê¨ ê¨­ê¨•ê¨«ê¨£ê¨¢ê¨¯ê¨®ê©… ê© ê©‘ ê©",
    );

    // Non-reversible due to various na-s and sa-s.
    assert_transliterate(
        slp1_text,
        Slp1,
        GunjalaGondi,
        "ğ‘µºğ‘¶Šğ‘¶ˆğ‘¶Šğ‘µ¬ğ‘µºğ‘¶• ğ‘µºğ‘µ°ğ‘¶‰ğ‘¶—ğ‘µ±ğ‘¶—ğ‘¶ˆğ‘¶ğ‘µ³ğ‘¶—ğ‘µ¬ ğ‘µºğ‘¶ˆğ‘¶• ğ‘µ»ğ‘¶‘ğ‘µ­ ğ‘µºğ‘¶ˆğ‘¶“ğ‘µ³ğ‘¶—ğ‘µ³ğ‘µ°ğ‘µ° . ğ‘µ¸ğ‘¶ğ‘µ­ğ‘¶Œğ‘¶• ğ‘¶‰ğ‘¶ˆğ‘¶‰ğ‘¶—ğ‘µ­ğ‘µ³ğ‘¶Œğ‘¶• ğ‘µ»ğ‘¶‘ğ‘µ­ ğ‘µ³ğ‘µ³ğ‘¶“ ğ‘¶€ğ‘µ¬ğ‘µ°ğ‘¶ğ‘µ¸ğ‘¶Œğ‘¶ˆğ‘µ¬ğ‘¶ğ‘µ³ .. ğ‘¶¡ ..",
    );

    // Non-reversible due to no vocalic r/rr/l/ll
    // TODO: how to use ADDAK?
    /*
    assert_transliterate(
        slp1_text,
        Slp1,
        Gurmukhi,
        "à¨¨à¨¾à¨°à¨¾à¨¯à¨£à©° à¨¨à¨®à¨¸à©à¨•à©à¨°à©à¨¤à©à¨¯ à¨¨à¨°à©° à¨šà©ˆà¨µ à¨¨à¨°à©‹à©±à¨¤à¨®à¨®à© à¥¤ à¨¦à©‡à¨µà©€à¨‚ à¨¸à¨°à¨¸à©à¨µà¨¤à©€à¨‚ à¨šà©ˆà¨µ à¨¤à¨¤à©‹ à¨œà¨¯à¨®à©à¨¦à©€à¨°à¨¯à©‡à¨¤à© à¥¥ 1 à¥¥",
    );
    */

    // Non-reversible due to ca/cha, vocalic r/rr/l/ll, etc.
    assert_transliterate(
        slp1_text,
        Slp1,
        MeeteiMayek,
        "ê¯…ê¯¥ê¯”ê¯¥ê¯Œê¯…ê¯ª ê¯…ê¯ƒê¯ê¯­ê¯›ê¯”ê¯¨ê¯ ê¯Œ ê¯…ê¯”ê¯ª ê¯†ê¯©ê¯‹ ê¯…ê¯”ê¯£ê¯ ê¯‡ê¯ƒê¯ ê¯« ê¯—ê¯¦ê¯‹ê¯¤ê¯ª ê¯ê¯”ê¯ê¯­ê¯‹ê¯‡ê¯¤ê¯ª ê¯†ê¯©ê¯‹ ê¯‡ê¯‡ê¯£ ê¯–ê¯Œê¯ƒê¯¨ê¯—ê¯¤ê¯”ê¯Œê¯¦ê¯  ê¯«ê¯« ê¯± ê¯«ê¯«",
    );

    // Non-reversible due to no "sa" distinctions.
    assert_transliterate(
        slp1_text,
        Slp1,
        OlChiki,
        concat!(
            "á±±á±Ÿá±¨á±Ÿá±­á±šá±¬á±šá± á±±á±šá±¢á±šá±¥á± á±¨á±©á±›á±­á±š á±±á±šá±¨á±šá± á±ªá±šá±¤á±£á±š á±±á±šá±¨á±³á±›á±›á±šá±¢á±šá±¢ á±¾ ",
            "á±«á±®á±£á±¤á±»á± á±¥á±šá±¨á±šá±¥á±£á±šá±›á±¤á±»á± á±ªá±šá±¤á±£á±š á±›á±šá±›á±³ á±¡á±šá±­á±šá±¢á±©á±«á±¤á±»á±¨á±šá±­á±®á±› á±¿ á±‘ á±¿"
        ),
    );

    // Non-reversible due to no virama.
    /*
    assert_transliterate(
        slp1_text,
        Slp1,
        Soyombo,
        "ğ‘©¯ğ‘©›ğ‘©¼ğ‘©›ğ‘©»ğ‘©ªğ‘ª– ğ‘©¯ğ‘©´ğ‘ªğ‘ª™ğ‘©œğ‘©™ğ‘©«ğ‘ª™ğ‘©» ğ‘©¯ğ‘©¼ğ‘ª– ğ‘©µğ‘©—ğ‘©¾ ğ‘©¯ğ‘©¼ğ‘©–ğ‘©«ğ‘ª˜ğ‘©´ğ‘©´ ğ‘ª› ğ‘©­ğ‘©”ğ‘©¾ğ‘©‘ğ‘©›ğ‘ª– ğ‘ªğ‘©¼ğ‘ªğ‘ª™ğ‘©¾ğ‘©«ğ‘©‘ğ‘©›ğ‘ª– ğ‘©µğ‘©—ğ‘©¾ ğ‘©«ğ‘©«ğ‘©– ğ‘©·ğ‘©»ğ‘©´ğ‘©’ğ‘©­ğ‘©‘ğ‘©›ğ‘©¼ğ‘©»ğ‘©”ğ‘©« ğ‘ªœ 1 ğ‘ªœ",
    );
    */

    // Non-reversible due to b/v and no virama.
    assert_transliterate(
        slp1_text,
        Slp1,
        Tibetan,
        "à½“à½±à½¢à½±à½¡à½à½¾à¼‹à½“à½˜à½¦à¾à¾²à¾€à½à¾±à¼‹à½“à½¢à½¾à¼‹à½™à½»à½–à¼‹à½“à½¢à½¼à½à¾Ÿà½˜à½˜à¼‹à¼à¼‹à½‘à½ºà½–à½±à½²à½¾à¼‹à½¦à½¢à½¦à¾­à½à½±à½²à½¾à¼‹à½™à½»à½–à¼‹à½à½à½¼à¼‹à½›à½¡à½˜à½´à½‘à½±à½²à½¢à½¡à½ºà½à¼‹à¼à¼‹à¼¡à¼‹à¼",
    );
}

// Sanskrit (Vedic)
// ----------------

#[test]
fn vedic_svaras() {
    // Svarita and anudatta
    assert_two_way_pairwise(&[
        (BarahaSouth, "aq a#"),
        (Itrans, r"a\_ a\'"),
        (Slp1, r"a\ a^"),
        // Indic
        (Assamese, "à¦…à¥’ à¦…à¥‘"),
        (Bengali, "à¦…à¥’ à¦…à¥‘"),
        (Devanagari, "à¤…à¥’ à¤…à¥‘"),
        (Grantha, "ğ‘Œ…à¥’ ğ‘Œ…á³´"),
        (Gujarati, "àª…à¥’ àª…à¥‘"),
        (Kannada, "à²…à¥’ à²…à¥‘"),
        (Malayalam, "à´…à¥’ à´…à¥‘"),
        (Odia, "à¬…à¥’ à¬…à¥‘"),
        (Sharada, "ğ‘†ƒà¥’ ğ‘†ƒà¥‘"),
        (Telugu, "à°…à¥’ à°…à¥‘"),
    ]);

    // Dirgha svarita
    assert_two_way_pairwise(&[
        (BarahaSouth, "a$"),
        // Indic
        (Assamese, "à¦…á³š"),
        (Bengali, "à¦…á³š"),
        (Devanagari, "à¤…á³š"),
        (Grantha, "ğ‘Œ…à¥‘"),
        (Kannada, "à²…á³š"),
        (Malayalam, "à´…á³š"),
        (Odia, "à¬…á³š"),
        (Sharada, "ğ‘†ƒá³š"),
        (Telugu, "à°…á³š"),
    ]);
}

#[test]
fn vedic_svaras_with_ayogavahas() {
    assert_two_way_pairwise(&[
        (BarahaSouth, "aqH a#H a$H aqM a#M a$M"),
        (Itrans, r#"a\_H a\'H a\"H a\_M a\'M a\"M"#),
        // Indic
        (Assamese, "à¦…à¦ƒà¥’ à¦…à¦ƒà¥‘ à¦…à¦ƒá³š à¦…à¦‚à¥’ à¦…à¦‚à¥‘ à¦…à¦‚á³š"),
        (Bengali, "à¦…à¦ƒà¥’ à¦…à¦ƒà¥‘ à¦…à¦ƒá³š à¦…à¦‚à¥’ à¦…à¦‚à¥‘ à¦…à¦‚á³š"),
        (Devanagari, "à¤…à¤ƒà¥’ à¤…à¤ƒà¥‘ à¤…à¤ƒá³š à¤…à¤‚à¥’ à¤…à¤‚à¥‘ à¤…à¤‚á³š"),
        (Grantha, "ğ‘Œ…ğ‘Œƒà¥’ ğ‘Œ…ğ‘Œƒá³´ ğ‘Œ…ğ‘Œƒà¥‘ ğ‘Œ…ğ‘Œ‚à¥’ ğ‘Œ…ğ‘Œ‚á³´ ğ‘Œ…ğ‘Œ‚à¥‘"),
        (Gujarati, "àª…àªƒà¥’ àª…àªƒà¥‘ àª…àªƒá³š àª…àª‚à¥’ àª…àª‚à¥‘ àª…àª‚á³š"),
        (Kannada, "à²…à²ƒà¥’ à²…à²ƒà¥‘ à²…à²ƒá³š à²…à²‚à¥’ à²…à²‚à¥‘ à²…à²‚á³š"),
        (Malayalam, "à´…à´ƒà¥’ à´…à´ƒà¥‘ à´…à´ƒá³š à´…à´‚à¥’ à´…à´‚à¥‘ à´…à´‚á³š"),
        (Odia, "à¬…à¬ƒà¥’ à¬…à¬ƒà¥‘ à¬…à¬ƒá³š à¬…à¬‚à¥’ à¬…à¬‚à¥‘ à¬…à¬‚á³š"),
        (Telugu, "à°…à°ƒà¥’ à°…à°ƒà¥‘ à°…à°ƒá³š à°…à°‚à¥’ à°…à°‚à¥‘ à°…à°‚á³š"),
    ]);
}

#[test]
fn vedic_candrabindu_virama() {
    assert_two_way_pairwise(&[
        (Assamese, "à¦…à§¼"),
        (Bengali, "à¦…à§¼"),
        (Devanagari, "à¤…ê£³"),
        (Malayalam, "à´…à´„"),
        (Grantha, "ğ‘Œ…ğ‘"),
        (Newa, "ğ‘€ğ‘‘Ÿ"),
    ]);
}

#[test]
fn vedic_upadhmaniya_and_jihvamuliya() {
    assert_two_way_pairwise(&[
        (Iso15919, "kaáº– kaá¸«"),
        (Slp1, "kaZ kaV"),
        // Indic
        (Brahmi, "ğ‘€“ğ‘€ƒ ğ‘€“ğ‘€„"),
        (Devanagari, "à¤•á³µ à¤•á³¶"),
        (Kannada, "à²•à³± à²•à³²"),
        (Newa, "ğ‘ğ‘‘  ğ‘ğ‘‘¡"),
        (Sharada, "ğ‘†‘ğ‘‡‚ ğ‘†‘ğ‘‡ƒ"),
        (Soyombo, "ğ‘©œğ‘ª„ ğ‘©œğ‘ª…"),
        (Tibetan, "à½€à¾ˆà¼‹à½€à¾‰"),
    ]);
}

#[test]
fn vedic_anusvaras() {
    assert_two_way_pairwise(&[(Devanagari, "à¤•ê£³ à¤•ê£´"), (Grantha, "ğ‘Œ•ğ‘ ğ‘Œ•ğ‘Ÿ")]);
}

#[test]
fn vedic_consonants() {
    assert_two_way_pairwise(&[
        (BarahaSouth, "La Lha"),
        (HarvardKyoto, "La Lha"),
        (Iast, "á¸»a á¸»ha"),
        (Iso15919, "á¸·a á¸·ha"),
        (Itrans, "La Lha"),
        (Slp1, "La |a"),
        (Velthuis, "La Lha"),
        (Wx, "lYa lYha"),
        // Indic
        (Balinese, "á¬®á¬´ á¬®á¬´á­„á¬³"),
        (Bengali, "à¦²à¦¼ à¦²à¦¼à§à¦¹"),
        (Brahmi, "ğ‘€´ ğ‘€´ğ‘†ğ‘€³"),
        (Burmese, "á€  á€ á€¾"),
        (Devanagari, "à¤³ à¤³à¥à¤¹"),
        (Grantha, "ğ‘Œ³ ğ‘Œ³ğ‘ğ‘Œ¹"),
        (Gujarati, "àª³ àª³à«àª¹"),
        (GunjalaGondi, "ğ‘µ¿ ğ‘µ¿ğ‘¶—ğ‘¶‡"),
        (Javanese, "ê¦­ê¦³ ê¦­ê¦³ê§€ê¦²"),
        (Kannada, "à²³ à²³à³à²¹"),
        (Malayalam, "à´³ à´³àµà´¹"),
        (MasaramGondi, "ğ‘´­ ğ‘´­ğ‘µ…ğ‘´¬"),
        (Modi, "ğ‘˜¯ ğ‘˜¯ğ‘˜¿ğ‘˜®"),
        (Odia, "à¬³ à¬³à­à¬¹"),
        (Saurashtra, "ê¢³ ê¢³ê£„ê¢²"),
        (Sharada, "ğ‘†­ ğ‘†­ğ‘‡€ğ‘†²"),
        (Siddham, "ğ‘–©ğ‘—€ ğ‘–©ğ‘—€ğ‘–¿ğ‘–®"),
        (Sinhala, "à·… à·…à·Šà·„"),
        (TaiTham, "á©Š á©Šá© á©‰"),
        (Takri, "ğ‘š¥ğ‘š· ğ‘š¥ğ‘š·ğ‘š¶ğ‘š©"),
        (Telugu, "à°³ à°³à±à°¹"),
    ]);
}

// Other
// -----

#[test]
fn short_e_and_o_vowels() {
    assert_two_way_pairwise(&[
        (BarahaSouth, "e ke o ko"),
        (Iso15919, "e ke o ko"),
        // Indic
        (Devanagari, "à¤ à¤•à¥† à¤’ à¤•à¥Š"),
        (Kannada, "à² à²•à³† à²’ à²•à³Š"),
        (Malayalam, "à´ à´•àµ† à´’ à´•àµŠ"),
        (Tamil, "à® à®•à¯† à®’ à®•à¯Š"),
        (Telugu, "à° à°•à±† à°’ à°•à±Š"),
    ]);
}

#[test]
fn nukta_consonants() {
    assert_two_way_pairwise(&[
        (Itrans, "qa Ka Ga za .Da .Dha fa Ya Ra"),
        (Iso15919, "qa kÍŸha Ä¡a za á¹›a á¹›ha fa áºa á¹Ÿa"),
        (Velthuis, "qa .kha .ga za Ra Rha fa .ya ^ra"),
        // Indic
        (Assamese, "à¦•à¦¼ à¦–à¦¼ à¦—à¦¼ à¦œà¦¼ à¦¡à¦¼ à¦¢à¦¼ à¦«à¦¼ à¦¯à¦¼ à§°à¦¼"),
        (Bengali, "à¦•à¦¼ à¦–à¦¼ à¦—à¦¼ à¦œà¦¼ à¦¡à¦¼ à¦¢à¦¼ à¦«à¦¼ à¦¯à¦¼ à¦°à¦¼"),
        (Devanagari, "à¤•à¤¼ à¤–à¤¼ à¤—à¤¼ à¤œà¤¼ à¤¡à¤¼ à¤¢à¤¼ à¤«à¤¼ à¤¯à¤¼ à¤±"),
        (Dogra, "ğ‘ Šğ‘ º ğ‘ ‹ğ‘ º ğ‘ Œğ‘ º ğ‘ ‘ğ‘ º ğ‘ « ğ‘ —ğ‘ º ğ‘ Ÿğ‘ º ğ‘ £ğ‘ º ğ‘ ¤ğ‘ º"),
        // There is no documentated usage of Grantha nukta, but include it anyway for completion's
        // sake.
        (Grantha, "ğ‘Œ•ğ‘Œ¼ ğ‘Œ–ğ‘Œ¼ ğ‘Œ—ğ‘Œ¼ ğ‘Œœğ‘Œ¼ ğ‘Œ¡ğ‘Œ¼ ğ‘Œ¢ğ‘Œ¼ ğ‘Œ«ğ‘Œ¼ ğ‘Œ¯ğ‘Œ¼ ğ‘Œ°ğ‘Œ¼"),
        (Gujarati, "àª•àª¼ àª–àª¼ àª—àª¼ àªœàª¼ àª¡àª¼ àª¢àª¼ àª«àª¼ àª¯àª¼ àª°àª¼"),
        (Gurmukhi, "à¨•à¨¼ à¨–à¨¼ à¨—à¨¼ à¨œà¨¼ à©œ à¨¢à¨¼ à¨«à¨¼ à¨¯à¨¼ à¨°à¨¼"),
        (Kaithi, "ğ‘‚ğ‘‚º ğ‘‚ğ‘‚º ğ‘‚ğ‘‚º ğ‘‚”ğ‘‚º ğ‘‚š ğ‘‚œ ğ‘‚¤ğ‘‚º ğ‘‚¨ğ‘‚º ğ‘‚©ğ‘‚º"),
        // Aksharamukha has gha + nukta, but surely this is ga + nukta?
        (Khudawadi, "ğ‘Šºğ‘‹© ğ‘Š»ğ‘‹© ğ‘Š¼ğ‘‹© ğ‘‹‚ğ‘‹© ğ‘‹Š ğ‘‹‹ğ‘‹© ğ‘‹“ğ‘‹© ğ‘‹˜ğ‘‹© ğ‘‹™ğ‘‹©"),
        (Kannada, "à²•à²¼ à²–à²¼ à²—à²¼ à²œà²¼ à²¡à²¼ à²¢à²¼ à²«à²¼ à²¯à²¼ à²±"),
        (MasaramGondi, "ğ‘´Œğ‘µ‚ ğ‘´ğ‘µ‚ ğ‘´ğ‘µ‚ ğ‘´“ğ‘µ‚ ğ‘´˜ğ‘µ‚ ğ‘´™ğ‘µ‚ ğ‘´¡ğ‘µ‚ ğ‘´¥ğ‘µ‚ ğ‘´¦ğ‘µ‚"),
        (Newa, "ğ‘ğ‘‘† ğ‘ğ‘‘† ğ‘ğ‘‘† ğ‘–ğ‘‘† ğ‘œğ‘‘† ğ‘ğ‘‘† ğ‘¦ğ‘‘† ğ‘«ğ‘‘† ğ‘¬ğ‘‘†"),
        (Odia, "à¬•à¬¼ à¬–à¬¼ à¬—à¬¼ à¬œà¬¼ à¬¡à¬¼ à¬¢à¬¼ à¬«à¬¼ à­Ÿ à¬°à¬¼"),
        (Sharada, "ğ‘†‘ğ‘‡Š ğ‘†’ğ‘‡Š ğ‘†“ğ‘‡Š ğ‘†˜ğ‘‡Š ğ‘†ğ‘‡Š ğ‘†ğ‘‡Š ğ‘†¦ğ‘‡Š ğ‘†ªğ‘‡Š ğ‘†«ğ‘‡Š"),
        (Siddham, "ğ‘–ğ‘—€ ğ‘–ğ‘—€ ğ‘–ğ‘—€ ğ‘–•ğ‘—€ ğ‘–šğ‘—€ ğ‘–›ğ‘—€ ğ‘–£ğ‘—€ ğ‘–§ğ‘—€ ğ‘–¨ğ‘—€"),
        (Takri, "ğ‘šŠğ‘š· ğ‘š‹ğ‘š· ğ‘šŒğ‘š· ğ‘š‘ğ‘š· ğ‘šª ğ‘š—ğ‘š· ğ‘šŸğ‘š· ğ‘š£ğ‘š· ğ‘š¤ğ‘š·"),
        (Telugu, "à°•à°¼ à°–à°¼ à°—à°¼ à°œà°¼ à°¡à°¼ à°¢à°¼ à°«à°¼ à°¯à°¼ à°±"),
        (Tirhuta, "ğ‘’ğ‘“ƒ ğ‘’ğ‘“ƒ ğ‘’‘ğ‘“ƒ ğ‘’–ğ‘“ƒ ğ‘’›ğ‘“ƒ ğ‘’œğ‘“ƒ ğ‘’¤ğ‘“ƒ ğ‘’¨ğ‘“ƒ ğ‘’©ğ‘“ƒ"),
    ]);
}

#[test]
fn symbol_abbreviation_sign() {
    assert_two_way_pairwise(&[
        (Assamese, "\u{09fd}"),
        (Bengali, "\u{09fd}"),
        (Devanagari, "\u{0970}"),
        (Dogra, "\u{1183b}"),
        (Gujarati, "\u{0af0}"),
        (Gurmukhi, "\u{0a76}"),
        (Kaithi, "\u{110bb}"),
        (Modi, "\u{11643}"),
        (Newa, "\u{1144f}"),
        (Sharada, "\u{111c7}"),
        (Takri, "\u{116b9}"),
        (Tirhuta, "\u{114c6}"),
    ]);
}

#[test]
fn symbol_om() {
    assert_two_way_pairwise(&[
        (Devanagari, "à¥"),
        (Grantha, "ğ‘"),
        (Gujarati, "à«"),
        (GunjalaGondi, "ğ‘¶˜"),
        (Newa, "ğ‘‘‰"),
        (Sharada, "\u{1118f}\u{11180}"),
        (Tamil, "à¯"),
        (Tibetan, "à¼€"),
        (Tirhuta, "ğ‘“‡"),
    ]);
}

// Scheme-specific tests
// =====================

#[test]
fn baraha_defaults_and_alternates() {
    let round_trip = |x| {
        let deva = t(x, BarahaSouth, Devanagari);
        t(&deva, Devanagari, BarahaSouth)
    };

    assert_eq!(
        "A I U au kha gha cha Cha jha pha bha va sha ha",
        round_trip("aa ee oo ou Ka Ga ca Ca Ja Pa Ba wa Sa ~ha")
    );
}

#[test]
fn baraha_accents() {
    let assert_has =
        |expected, actual| assert_transliterate(expected, BarahaSouth, Devanagari, actual);
    assert_has("a# aq", "à¤…à¥‘ à¤…à¥’");
    assert_has("aQ aV a$", "à¤…\u{1cd2} à¤…\u{1cdd} à¤…\u{1cda}");
    // TODO: aW
}

#[test]
fn burmese_subjoined_consonants() {
    assert_two_way_pairwise(&[
        (
            Slp1,
            concat!(
                "nka nKa nga nGa nNa nca nCa nja nJa nYa nwa nWa nqa nQa nRa ",
                "nta nTa nda nDa nna npa nPa nba nBa nma nya nra nla nva nSa nza nsa nha"
            ),
        ),
        (
            Burmese,
            "á€”á€¹á€€ á€”á€¹á€ á€”á€¹á€‚ á€”á€¹á€ƒ á€”á€¹á€„ á€”á€¹á€… á€”á€¹á€† á€”á€¹á€‡ á€”á€¹á€ˆ á€”á€¹á€‰ á€”á€¹á€‹ á€”á€¹á€Œ á€”á€¹á€ á€”á€¹á€ á€”á€¹á€ á€”á€¹á€ á€”á€¹á€‘ á€”á€¹á€’ á€”á€¹á€“ á€”á€¹á€” á€”á€¹á€• á€”á€¹á€– á€”á€¹á€— á€”á€¹á€˜ á€”á€¹á€™ á€”á€» á€”á€¼ á€”á€¹á€œ á€”á€½ á€”á€¹á á€”á€¹á‘ á€”á€¹á€ á€”á€¾",
        ),
    ]);
}

#[test]
fn devanagari_nuktas_joined() {
    let separate = "à¤•à¤¼ à¤–à¤¼ à¤—à¤¼ à¤œà¤¼ à¤¡à¤¼ à¤¢à¤¼ à¤«à¤¼ à¤¯à¤¼";
    let joined = "\u{0958} \u{0959} \u{095a} \u{095b} \u{095c} \u{095d} \u{095e} \u{095f}";
    assert_ne!(separate, joined);

    // Encouraged per Unicode spec. (nuktas separate)
    assert_two_way_pairwise(&[
        (Devanagari, separate),
        (Itrans, "qa Ka Ga za .Da .Dha fa Ya"),
    ]);

    // Discouraged per Unicode spec. (nuktas joined)
    assert_transliterate(joined, Devanagari, Itrans, "qa Ka Ga za .Da .Dha fa Ya");
}

#[test]
fn devanagari_prishthamatra() {
    let assert_has =
        |expected, actual| assert_transliterate(expected, Devanagari, HarvardKyoto, actual);

    // U+094E is "DEVANAGARI VOWEL SIGN PRISHTHAMATRA E". For usage, see the spec comments on
    // U+094E.
    assert_has("à¤•\u{0947}\u{094e}", "kai");
    assert_has("à¤•\u{093e}\u{094e}", "ko");
    assert_has("à¤•\u{094b}\u{094e}", "kau");
}

#[test]
fn grantha_two_part_vowels() {
    let assert_has = |expected, actual| assert_transliterate(expected, Grantha, Devanagari, actual);

    let ko = "à¤•à¥‹";
    // Default
    assert_has("ğ‘Œ•\u{1134b}", ko);
    // Permitted by Unicode spec -- see spec comments on U+1134B
    assert_has("ğ‘Œ•\u{11347}\u{1133e}", ko);

    let kau = "à¤•à¥Œ";
    // Default
    assert_has("ğ‘Œ•\u{1134c}", kau);
    // Permitted by Unicode spec -- see spec comments on U+1134C
    assert_has("ğ‘Œ•\u{11347}\u{11357}", kau);
    // Also support just "GRANTHA AU LENGTH MARK" which is permissible as a shorthand
    assert_has("ğ‘Œ•\u{11357}", kau);
}

#[test]
fn iast_unicode_variants() {
    assert_supports_unicode_variants(
        Scheme::Iast,
        &[
            "Ä", "Ä«", "Å«", "á¹›", "á¹", "á¸·", "á¸¹", "á¹ƒ", "á¸¥", "á¹…", "Ã±", "á¹­", "á¸", "á¹‡", "Å›", "á¹£",
        ],
    );
}

#[test]
fn iso_15919_bug_no_greedy_match_on_nfd() {
    assert_transliterate("ai\u{0304} au\u{0304}", Iso15919, Devanagari, "à¤…à¤ˆ à¤…à¤Š");
    assert_transliterate(
        "agh\u{0323} agh\u{0331} agh\u{032e}",
        Iso15919,
        Devanagari,
        "à¤…à¤—à¥à¤ƒ à¤…à¤—à¥á³µ à¤…à¤—à¥á³¶",
    );
}

#[test]
fn iso_15919_colon_separator() {
    // Consonants
    assert_two_way_pairwise(&[
        (
            Iso15919,
            "k:ha g:ha c:ha j:ha á¹­:ha á¸:ha t:ha d:ha p:ha b:ha",
        ),
        (Slp1, "kha gha cha jha wha qha tha dha pha bha"),
        (Devanagari, "à¤•à¥à¤¹ à¤—à¥à¤¹ à¤šà¥à¤¹ à¤œà¥à¤¹ à¤Ÿà¥à¤¹ à¤¡à¥à¤¹ à¤¤à¥à¤¹ à¤¦à¥à¤¹ à¤ªà¥à¤¹ à¤¬à¥à¤¹"),
        (Kannada, "à²•à³à²¹ à²—à³à²¹ à²šà³à²¹ à²œà³à²¹ à²Ÿà³à²¹ à²¡à³à²¹ à²¤à³à²¹ à²¦à³à²¹ à²ªà³à²¹ à²¬à³à²¹"),
    ]);

    // Consonants with marks
    assert_two_way_pairwise(&[
        (
            Iso15919,
            "k:hÄ g:hÄ c:hÄ j:hÄ á¹­:hÄ á¸:hÄ t:hÄ d:hÄ p:hÄ b:hÄ",
        ),
        (Slp1, "khA ghA chA jhA whA qhA thA dhA phA bhA"),
        (Devanagari, "à¤•à¥à¤¹à¤¾ à¤—à¥à¤¹à¤¾ à¤šà¥à¤¹à¤¾ à¤œà¥à¤¹à¤¾ à¤Ÿà¥à¤¹à¤¾ à¤¡à¥à¤¹à¤¾ à¤¤à¥à¤¹à¤¾ à¤¦à¥à¤¹à¤¾ à¤ªà¥à¤¹à¤¾ à¤¬à¥à¤¹à¤¾"),
        (Kannada, "à²•à³à²¹à²¾ à²—à³à²¹à²¾ à²šà³à²¹à²¾ à²œà³à²¹à²¾ à²Ÿà³à²¹à²¾ à²¡à³à²¹à²¾ à²¤à³à²¹à²¾ à²¦à³à²¹à²¾ à²ªà³à²¹à²¾ à²¬à³à²¹à²¾"),
    ]);

    // Consonants with viramas
    assert_two_way_pairwise(&[
        (Iso15919, "k:h g:h c:h j:h á¹­:h á¸:h t:h d:h p:h b:h"),
        (Slp1, "kh gh ch jh wh qh th dh ph bh"),
        (Devanagari, "à¤•à¥à¤¹à¥ à¤—à¥à¤¹à¥ à¤šà¥à¤¹à¥ à¤œà¥à¤¹à¥ à¤Ÿà¥à¤¹à¥ à¤¡à¥à¤¹à¥ à¤¤à¥à¤¹à¥ à¤¦à¥à¤¹à¥ à¤ªà¥à¤¹à¥ à¤¬à¥à¤¹à¥"),
        (Kannada, "à²•à³à²¹à³ à²—à³à²¹à³ à²šà³à²¹à³ à²œà³à²¹à³ à²Ÿà³à²¹à³ à²¡à³à²¹à³ à²¤à³à²¹à³ à²¦à³à²¹à³ à²ªà³à²¹à³ à²¬à³à²¹à³"),
    ]);

    // Vowels
    assert_two_way_pairwise(&[
        (Iso15919, "a:i a:u ka:i ka:u"),
        (Slp1, "ai au kai kau"),
        (Devanagari, "à¤…à¤‡ à¤…à¤‰ à¤•à¤‡ à¤•à¤‰"),
        (Kannada, "à²…à²‡ à²…à²‰ à²•à²‡ à²•à²‰"),
    ]);

    // Regular colons -- ignore
    // TODO: what's the best policy for handling these?
    assert_two_way_pairwise(&[
        (Iso15919, "a: ka: k: a:Ä k:ta"),
        (Slp1, "a: ka: k: a:A k:ta"),
        (Devanagari, "à¤…: à¤•: à¤•à¥: à¤…:à¤† à¤•à¥:à¤¤"),
        (Kannada, "à²…: à²•: à²•à³: à²…:à²† à²•à³:à²¤"),
    ]);
}

#[test]
fn iso_15919_tamil_aytam() {
    assert_transliterate("à®ƒ", Tamil, Iso15919, "á¸³");
    assert_transliterate("\u{1e33}", Iso15919, Tamil, "à®ƒ");
    assert_transliterate("k\u{0323}", Iso15919, Tamil, "à®ƒ");
}

#[test]
fn iso_15919_unicode_variants() {
    assert_supports_unicode_variants(
        Scheme::Iso15919,
        &[
            "Ä", "Ä«", "Å«", "á¹", "á¸¥", "áº–", "á¸«", "á¹…", "Ã±", "á¹­", "á¸", "á¹‡", "Å›", "á¹£",
        ],
    );
}

#[test]
fn itrans_alternates() {
    fn assert_same(items: &[&str]) {
        let mut lipika = Lipika::new();
        let default = items[0];
        let deva = lipika.transliterate(default, Itrans, Devanagari);

        for x in &items[1..] {
            let x_deva = lipika.transliterate(x, Itrans, Devanagari);
            assert_eq!(deva, x_deva, "{default} ({deva}) != {x} ({x_deva})");
        }
    }

    assert_same(&["A kA", "aa kaa"]);
    assert_same(&["I kI", "ii kii", "ee kee"]);
    assert_same(&["U kU", "uu kuu", "oo koo"]);
    assert_same(&["RRi kRRi", "R^i kR^i"]);
    assert_same(&["RRI kRRI", "R^I kR^I"]);
    assert_same(&["LLi kLLi", "L^i kL^i"]);
    assert_same(&["LLI kLLI", "L^I kL^I"]);

    // Anusvara and candrabindu
    assert_same(&["aM", "a.m", "a.n"]);
    assert_same(&["a.N", "a{\\m+}"]);

    // Consonants
    assert_same(&["~Na", "N^a"]);
    assert_same(&["ca", "cha"]);
    assert_same(&["~na", "JNa"]);
    // TODO: source for Ca?
    assert_same(&["Cha", "chha", "Ca"]);
    assert_same(&["va", "wa"]);
    assert_same(&["Sha", "Sa", "shha"]);
    assert_same(&["za", "Ja"]);
    // TODO: L / ld?

    // Clusters
    assert_same(&["kSha", "kSa", "kshha", "xa"]);
    assert_same(&["j~na", "GYa", "dnya"]);
    assert_same(&["OM", "AUM"]);

    // Punctuation
    assert_same(&[".a", "~"]);
    assert_same(&["|", "."]);
    assert_same(&["||", ".."]);
}

#[test]
fn itrans_zero_width_joiner() {
    assert_transliterate("bara_u", Itrans, Devanagari, "à¤¬à¤°à¤‰");
    assert_transliterate("k{}Shetra", Itrans, Devanagari, "à¤•à¥\u{200d}à¤·à¥‡à¤¤à¥à¤°");
}

#[test]
fn itrans_backslash_escape() {
    assert_transliterate("\\nara", Itrans, Devanagari, "nà¤…à¤°");
    assert_transliterate("na\\ra", Itrans, Devanagari, "à¤¨rà¤…");
    assert_transliterate("nara\\", Itrans, Devanagari, "à¤¨à¤°");
}

#[test]
fn javanese_medial_consonants() {
    assert_two_way_pairwise(&[(Slp1, "nya nra"), (Javanese, "ê¦¤ê¦¾ ê¦¤ê¦¿")]);
}

#[test]
fn kannada_unicode_variants() {
    assert_supports_unicode_variants(Scheme::Kannada, &["à²•à³€", "à²•à³‡", "à²•à³ˆ", "à²•à³Š", "à²•à³‹"]);
}

#[test]
fn khmer_sign_robat() {
    assert_two_way_pairwise(&[(Slp1, "kra kara rka arka kara"), (Khmer, "á€áŸ’áš á€áš á€áŸŒ á¢á€áŸŒ á€áš")]);
}

#[test]
fn malayalam_chillus() {
    // Our chillu support is currently limited to when we transliterate *from* Malayalam.
    let pairs = &[
        ("à´…àµºà´•", "aRka", "à¤…à¤£à¥à¤•"),
        ("à´…àµ»à´•", "anka", "à¤…à¤¨à¥à¤•"),
        ("à´…àµ¼à´•", "arka", "à¤…à¤°à¥à¤•"),
        ("à´…àµ½à´•", "alka", "à¤…à¤²à¥à¤•"),
    ];
    for (input, slp1, devanagari) in pairs {
        assert_transliterate(input, Malayalam, Slp1, slp1);
        assert_transliterate(input, Malayalam, Devanagari, devanagari);
    }
}

#[test]
fn malayalam_modern_and_archaic_au() {
    // Modern sign au
    assert_two_way_pairwise(&[(Slp1, "kO"), (Malayalam, "à´•àµ—")]);

    // Archaic sign au
    assert_transliterate("à´•àµŒ", Malayalam, Slp1, "kO");
}

#[test]
fn masaram_gondi_conjuncts() {
    assert_two_way_pairwise(&[(Slp1, "kza kzA"), (MasaramGondi, "ğ‘´® ğ‘´®ğ‘´±")]);
    assert_two_way_pairwise(&[(Slp1, "jYa jYA"), (MasaramGondi, "ğ‘´¯ ğ‘´¯ğ‘´±")]);
    assert_two_way_pairwise(&[(Slp1, "tra trA"), (MasaramGondi, "ğ‘´° ğ‘´°ğ‘´±")]);
}

#[test]
fn saurashtra_ksha_with_zwj() {
    assert_two_way_pairwise(&[(Slp1, "kza"), (Saurashtra, "ê¢’ê£„\u{200d}ê¢°")]);
}

#[test]
fn sharada_om() {
    // Encouraged per Unicode spec. (SHARADA LETTER O + SHARADA SIGN CANDRABINDU)
    assert_two_way_pairwise(&[(Devanagari, "à¥"), (Sharada, "\u{1118f}\u{11180}")]);

    // Discouraged per Unicode spec. (SHARADA OM)
    assert_transliterate("\u{111c4}", Sharada, Devanagari, "à¥");
}

#[test]
fn tamil_superscript() {
    assert_two_way_pairwise(&[
        (
            Slp1,
            "ga gA gi gI gu gU gf gF gx gX ge gE go gO gaM gaH gIM gIH devI",
        ),
        (
            Tamil,
            "à®•Â³ à®•à®¾Â³ à®•à®¿Â³ à®•à¯€Â³ à®•à¯Â³ à®•à¯‚Â³ à®•à¯Â³à®°à¯Ê¼ à®•à¯Â³à®°à¯‚Ê¼ à®•à¯Â³à®²à¯Ê¼ à®•à¯Â³à®²à¯‚Ê¼ à®•à¯‡Â³ à®•à¯ˆÂ³ à®•à¯‹Â³ à®•à¯ŒÂ³ à®•Â³à®®à¯Ê¼ à®•Â³ê‰ à®•à¯€Â³à®®à¯Ê¼ à®•à¯€Â³ê‰ à®¤à¯‡Â³à®µà¯€",
        ),
    ]);
}

#[test]
fn tamil_unicode_variants() {
    assert_supports_unicode_variants(Scheme::Tamil, &["à®”", "à®•à¯Š", "à®•à¯Š", "à®•à¯Œ"]);
}

#[test]
fn thai_preceding_vowels() {
    assert_two_way_pairwise(&[(Slp1, "ke kE ko kO"), (Thai, "à¹€à¸ à¹„à¸ à¹‚à¸ à¹€à¸à¸²")]);
}

#[test]
fn telugu_unicode_variants() {
    assert_supports_unicode_variants(Scheme::Telugu, &["à°•à±ˆ"]);
}

#[test]
fn tibetan_ba_va() {
    // TODO: why is this change made? For now, enforce for consistency with Aksharamukha default
    // behavior.
    assert_transliterate("bava", Slp1, Tibetan, "à½–à½–");
    assert_transliterate("nbanva", Slp1, Tibetan, "à½“à¾¦à½“à¾­");
}

#[test]
fn tibetan_subjoined_consonants() {
    assert_two_way_pairwise(&[(Slp1, "nGa"), (Tibetan, "à½“à¾’à¾·")]);
    assert_two_way_pairwise(&[(Slp1, "kf kF kx kX"), (Tibetan, "à½€à¾²à¾€à¼‹à½€à¾²à½±à¾€à¼‹à½€à¾³à¾€à¼‹à½€à¾³à½±à¾€")]);

    assert_two_way_pairwise(&[
        (
            // Use "nba" instead of "nva" because Tibetan does not have a "v" character.
            Slp1,
            concat!(
                "nka nKa nga nGa nNa nca nCa nja nJa nYa nwa nWa nqa nQa nRa ",
                "nta nTa nda nDa nna npa nPa nba nBa nma nya nra nla nba nSa nza nsa nha"
            ),
        ),
        (
            Tibetan,
            "à½“à¾à¼‹à½“à¾‘à¼‹à½“à¾’à¼‹à½“à¾’à¾·à¼‹à½“à¾”à¼‹à½“à¾©à¼‹à½“à¾ªà¼‹à½“à¾«à¼‹à½“à¾«à¾·à¼‹à½“à¾™à¼‹à½“à¾šà¼‹à½“à¾›à¼‹à½“à¾œà¼‹à½“à¾œà¾·à¼‹à½“à¾à¼‹à½“à¾Ÿà¼‹à½“à¾ à¼‹à½“à¾¡à¼‹à½“à¾¡à¾·à¼‹à½“à¾£à¼‹à½“à¾¤à¼‹à½“à¾¥à¼‹à½“à¾¦à¼‹à½“à¾¦à¾·à¼‹à½“à¾¨à¼‹à½“à¾±à¼‹à½“à¾²à¼‹à½“à¾³à¼‹à½“à¾¦à¼‹à½“à¾´à¼‹à½“à¾µà¼‹à½“à¾¶à¼‹à½“à¾·",
        ),
    ]);
}

#[test]
fn velthuis_basic() {
    let assert_has =
        |expected, actual| assert_transliterate(expected, Velthuis, Devanagari, actual);
    // Tests are from "Devanagari for TeX", Anshuman Pandey, 2019: Table 1"

    // Signs
    // TODO: ".." --> "."
    assert_has(
        ".m / .h .a & ~a ~o .o | || ^ra @ #",
        "\u{902} \u{901} \u{903} \u{93d} \u{94d} \u{945} \u{949} à¥ à¥¤ à¥¥ à¤± à¥° à¥±",
    );
    // Extended consonants
    assert_has("qa .kha .ga za Ra Rha fa", "à¤•à¤¼ à¤–à¤¼ à¤—à¤¼ à¤œà¤¼ à¤¡à¤¼ à¤¢à¤¼ à¤«à¤¼");
}

// Other bugs
// ----------

/// Tests that skipping unmappable content doesn't land within a char boundry.
#[test]
fn test_mixed_content() {
    assert_transliterate("saMskftam æ¼¢èª", HarvardKyoto, Devanagari, "à¤¸à¤‚à¤¸à¥à¤•à¥à¤«à¤¼à¥à¤¤à¤®à¥ æ¼¢èª");
}
