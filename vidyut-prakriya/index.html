<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="data:,"><!-- Avoid favicon requests: https://stackoverflow.com/a/38917888 -->
  <title>VidyullekhƒÅ</title>
  <style>
    table {
      border-collapse: collapse;
      border: 2px solid black;
    }

    td,
    th {
      border: 1px solid black;
      padding: 5px 10px;
    }

  </style>

  <script type="module">
    import init, { prakriyas } from "./pkg/vidyut_prakriya.js";
    await init();
    window.ret = prakriyas();
  </script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body x-data="ret">
  <template x-for="p in ret">
    <table>
      <caption x-text="p.terms.map(t => t.text).join('')"></caption>
      <thead>
        <tr>
          <th>Rule</th>
          <th>Result</th>
        </tr>
      </thead>
      <tbody>
        <template x-for="step in p.history">
          <tr>
            <td x-text="step.rule"></td>
            <td x-text="step.result"></td>
          </tr>
        </template>
      </tbody>
    </table>
  </template>
</body>

</html>
